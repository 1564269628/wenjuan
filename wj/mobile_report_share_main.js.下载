!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1774)}({1071:function(t,e,a){"use strict";a.r(e),a.d(e,"column_chart_options_handler",(function(){return o})),a.d(e,"getColumnOptions",(function(){return s})),a.d(e,"unifySettingMobile",(function(){return l}));var i=a(140);function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function o(t){var e=t.chart_options,a=t.chart_info,i=t.display_type,n=t.q_type_name,r=t.question_id;if(e.xAxis[0].data=a.labels,"number"!=typeof a.datas[0])e.series=a.datas,e.series.forEach((function(t){t.type="bar"})),e.legend={show:!1,y:"bottom"},e.legend.data=a.datas.map((function(t){return t.name}));else{if(e.xAxis[0].data=[" "],e.legend={show:!1,y:"bottom",data:a.labels},e.series=[],"show_percent"==i){var o=0;a.datas.forEach((function(t,e){t<100?o+=t:o=100})),e.yAxis[0].max=maxAxisValue(o,a.datas)}e.series=a.datas.map((function(t,e){return{name:a.labels[e],type:"bar",data:[t],itemStyle:{normal:{label:{show:!1,position:"top",formatter:"{c}"}}}}}))}if(e.tooltip={confine:!0,formatter:function(t){return t.seriesName=splitToolTipName(t.seriesName),"proportion"!=n?"show_percent"==i?t.seriesName+"  : "+parseFloat(t.value).toFixed(2)+"%":t.seriesName+"  : "+t.value+"人":t.seriesName+"  : "+keepTwoDecimal(t.value)}},9==n){var s=parseFloat($("#chart_div_"+r).width());e.series.map((function(t){return t.barWidth=15,t.barCategoryGap=0,t})),e.xAxis[0].data.length>5&&$("#container_"+r).css("width",s+(e.xAxis[0].data.length-3)*(30*e.series.length)+"px"),e.xAxis[0].show=!0,e.xAxis[0].axisLine={lineStyle:{color:"#eee"}},e.xAxis[0].axisLabel={color:"#8C8C8C"},e.xAxis[0].splitLine={show:!1}}return e}function s(t){var e="show_percent"==t.display_type,a=t.labels,r=[{data:t.datas,name:""}],o=9==t.q_disp_type;o&&(r=t.datas),"cascader"==t.q_disp_type&&e&&(r[0].data=t.table_data.columns.map((function(t){return Number(t.value.split("%")[0])}))),"proportion"==t.q_disp_type&&(e=!1);var s="image_single"==t.q_disp_type||"image_multiple"==t.q_disp_type||"imagevote_single"==t.q_disp_type||"imagevote_multiple"==t.q_disp_type,l={},c=[];if(s){for(var d=t.table_data,p=1;p<d.length-1;p++)c.push(Object(i.getImgSrcfromSpecial)(d[p][0]));c.forEach((function(t,e){l["Img"+e]={height:14,width:14,verticalAlign:"bottom",backgroundColor:{image:t}}}))}a.forEach((function(t,e){if(-1!=t.toString().indexOf("<img")){var a=Object(i.getImgSrcfromSpecial)(t);l["Img"+e]={height:14,width:14,backgroundColor:{image:a}}}}));var h,u;if(o){var _=[];r.map((function(t){_=_.concat(t.data)})),u=Math.max.apply(Math,n(_))}else u=Math.max.apply(Math,n(r[0].data));var g=!1,f=!1;h=Object(i.getMaxYAxis)(u),"K"==Object(i.getMaxYAxisRange)(h)?g=!0:"M"==Object(i.getMaxYAxisRange)(h)&&(f=!0);var m=a.length,b=r.length,v=339,y=32,x=20,w=!1;if(o){var S=Object(i.handleGroupColumnWidthAndGap)(m,b);v=S.echartContainerWidth,S.columnGap,x=S.columnWidthGroup,w=S.columnWidthGroupTwe}else{var A=Object(i.handleChartWidthAndBarWidth)(m);v=A.echartContainerWidth,A.columnGap,y=A.columnWidth}var $=document.getElementById("container_".concat(t.question_id));$&&($.style.width=339==v?"100%":"".concat(v,"px"));var C=(v-34)/m;if(r.forEach((function(t){t.type="bar",t.barGap=0,t.barWidth=o?x:y,t.barMinHeight=1,t.label={show:!w,position:"top",distance:8,color:"#484848",fontFamily:"PingFangSC-Regular",lineHeight:12,formatter:function(t){return e?"".concat(window.keepTwoDecimal(t.value),"%"):"".concat(t.value)}}})),o){var F=document.getElementById("container_".concat(t.question_id));F&&(F.style.height="333px")}return{grid:{left:0,right:15,top:40,bottom:o?42:20,containLabel:!0},title:{text:""},xAxis:{type:"category",data:a,axisLabel:{formatter:function(t,e){return s?"{Img".concat(e,"|} ").concat(Object(i.splitStringLength)(t)):-1!=t.toString().indexOf("<img")?"{Img".concat(e,"|}"):Object(i.splitStringLength)(t)},interval:0,rich:l,fontFamily:"PingFangSC-Regular",fontSize:12,color:"#AAAAAA",lineHeight:12,margin:9,rotate:Object(i.setTitleRotate)(a,C,s)}},yAxis:{type:"value",axisLabel:{formatter:function(t){return e?"".concat(t,"%"):g?"".concat(t/1e3,"K"):f?"".concat(t/1e6,"M"):"".concat(t)},color:"#AAAAAA",fontFamily:"PingFangSC-Regular",lineHeight:12,margin:4},max:h,splitNumber:5,interval:h/5,splitLine:{show:w,lineStyle:{color:"#EAEAEA"}}},series:r,tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(247,248,250,0.3)"}},transitionDuration:0,confine:!0,backgroundColor:"#FFFFFF",textStyle:{color:"#484848",fontFamily:"PingFangSC-Regular",fontSize:12,lineHeight:12},extraCssText:"box-shadow: 0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05);border-radius: 2px",formatter:function(t){var a="";if(s)a='<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src='.concat(c[t[0].dataIndex],">").concat(Object(i.splitStringLength)(t[0].axisValue));else if(-1!=t[0].axisValue.toString().indexOf("<img")){var n=Object(i.getImgSrcfromSpecial)(t[0].axisValue);a='<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src='.concat(n,">")}else a=Object(i.splitStringLength)(t[0].axisValue);if(o){var r=0;t.forEach((function(t){r+=t.value})),a+=e?"</br>合计： ".concat(window.keepTwoDecimal(r),"%"):"</br>合计： ".concat(r)}return t.forEach((function(t){a+=e?o?"</br>".concat(t.marker).concat(Object(i.splitStringLength)(t.seriesName)," : ").concat(window.keepTwoDecimal(t.data),"%"):"</br>".concat(window.keepTwoDecimal(t.data),"%"):o?"</br>".concat(t.marker).concat(Object(i.splitStringLength)(t.seriesName)," : ").concat(t.data):"</br>".concat(t.data)})),a}},legend:{show:o,type:"scroll",left:"center",bottom:20,padding:0,icon:"circle",itemGap:18,itemWidth:7,formatter:function(t){return Object(i.splitStringLength)(t)},textStyle:{color:"#484848",fontFamily:"PingFangSC-Regular",fontSize:12,lineHeight:12,padding:[1,0,0,0]}}}}function l(t){return t.animation=!1,t.xAxis.axisTick={show:!1},t.xAxis.axisLine={lineStyle:{color:"#EAEAEA"}},t.yAxis.axisTick={show:!1},t.yAxis.axisLine={show:!1},t}window.get_column_chart_base_options_value=function(t){return{grid:{borderWidth:0},title:{text:"某地区蒸发量和降水量",x:"left"},tooltip:{formatter:function(t,e,a){return splitToolTipName(t.seriesName)+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1")+"人"}},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{axisTick:!1,type:"category",data:[],show:!1,splitLine:{show:!1}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"},show:!0,splitLine:{show:!0,lineStyle:{color:"#dcdcdc",width:1}},axisLine:{show:!1,lineStyle:{color:"#dcdcdc",width:1}}}],series:[{name:"蒸发量",type:"bar",barWidth:10,data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,32.6,20,6.4,3.3],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"降水量",type:"bar",barWidth:10,data:[2.6,5.9,9,26.4,28.7,70.7,175.6,182.2,48.7,18.8,6,2.3],markPoint:{data:[{name:"年最高",value:182.2,xAxis:7,yAxis:183,symbolSize:18},{name:"年最低",value:2.3,xAxis:11,yAxis:3}]},markLine:{data:[{type:"average",name:"平均值"}]}}]}},window.get_column_chart_base_options_percent=function(t){return{grid:{borderWidth:0},title:{text:"某地区蒸发量和降水量",x:"left"},tooltip:{formatter:function(t,e,a){return splitToolTipName(t.seriesName)+" : "+parseFloat(t.value).toFixed(2)+"%"}},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{axisTick:!1,type:"category",data:[],show:!1,splitLine:{show:!0}}],yAxis:[{type:"value",axisLabel:{formatter:function(t){return t.toString().replace(/(\d+\.?\d{0,0})\d*/,"$1%")}},show:!0,splitLine:{show:!0,lineStyle:{color:"#dcdcdc",width:1}},axisLine:{lineStyle:{color:"#dcdcdc",width:0}}}],series:[{name:"蒸发量",type:"bar",data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,32.6,20,6.4,3.3],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"降水量",type:"bar",data:[2.6,5.9,9,26.4,28.7,70.7,175.6,182.2,48.7,18.8,6,2.3],markPoint:{data:[{name:"年最高",value:182.2,xAxis:7,yAxis:183,symbolSize:18},{name:"年最低",value:2.3,xAxis:11,yAxis:3}]},markLine:{data:[{type:"average",name:"平均值"}]}}]}},window.gen_nps_data_chart=function(t,e){if(6!=t.question_type&&8!=t.question_type&&95!=t.question_type&&100!=t.question_type){var a,r="show_percent"==t.display_type,o=t.labels,s=[{data:t.datas[0].data,name:""}],c=Math.max.apply(Math,n(s[0].data));a=Object(i.getMaxYAxis)(c),s.forEach((function(t){t.type="bar",t.barGap=0,t.barWidth=32,t.barMinHeight=1,t.label={show:!0,position:"top",distance:8,color:"#484848",fontFamily:"PingFangSC-Regular",lineHeight:12,formatter:function(t){return r?"".concat(window.keepTwoDecimal(t.value),"%"):"".concat(t.value)}}}));var d=window.echarts.init(document.getElementById("container2_"+e)),p={grid:{left:0,right:0,top:40,bottom:20,containLabel:!0},xAxis:{type:"category",data:o,axisLabel:{formatter:function(t,e){return Object(i.splitStringLength)(t)},interval:0,fontFamily:"PingFangSC-Regular",fontSize:12,color:"#AAAAAA",lineHeight:12,margin:9}},yAxis:{type:"value",axisLabel:{formatter:function(t){if(r)return"".concat(t,"%")},color:"#AAAAAA",fontFamily:"PingFangSC-Regular",lineHeight:12,margin:4},max:a,splitNumber:5,interval:a/5,splitLine:{show:!1,lineStyle:{color:"#EAEAEA"}}},series:s,tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(247,248,250,0.3)"}},transitionDuration:0,confine:!0,backgroundColor:"#FFFFFF",textStyle:{color:"#484848",fontFamily:"PingFangSC-Regular",fontSize:12,lineHeight:12},extraCssText:"box-shadow: 0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05);border-radius: 2px",formatter:function(t){var e=Object(i.splitStringLength)(t[0].axisValue);return t.forEach((function(t){e+=r?"</br>".concat(window.keepTwoDecimal(t.data),"%"):"</br>".concat(t.data)})),e}}};p.color=window.reportColors,p=l(p),d.clear(),d.resize(),d.setOption(p,!0),$("#table_"+e+" tr").eq(0).find("p").eq(2).html("答题人数："+t.rspd_count),0==$("#report_share").length&&$("#table_"+e+" tr").eq(0).find("p").eq(1).html(t.desc)}}},1198:function(t,e,a){"use strict";a.r(e);var i=a(140),n={yAxisConfig:{color:"#AAAAAA",fontFamily:"PingFangSC-Regular",lineHeight:12,fontSize:12,margin:5,lineColor:"#EAEAEA"},xAxisConfig:{color:"#AAAAAA",fontFamily:"PingFangSC-Regular",lineHeight:12,splitNumber:5},tooltipConfig:{trigger:"axis",type:"shadow",transitionDuration:0,backgroundColor:"#FFFFFF",color:"#484848",fontFamily:"PingFangSC-Regular",lineHeight:12,fontSize:12},legendConfig:{type:"scroll",left:"center",bottom:20,padding:0,icon:"circle",itemGap:18,itemWidth:7,pageButtonPosition:"end",pageIconSize:10,textStyleColor:"#484848",textStyleFontFamily:"PingFangSC-Regular",textStyleFontSize:12,textStyleLineHeight:12,textStylePadding:[1,0,0,0]}};function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function s(t){var e="show_percent"==t.display_type,a=t.labels,n=[{data:t.datas,name:""}],o=9==t.q_disp_type;o&&(n=t.datas),"cascader"==t.q_disp_type&&e&&(n[0].data=t.table_data.columns.map((function(t){return Number(t.value.split("%")[0])})),n[0].data=n[0].data.reverse()),"proportion"==t.q_disp_type&&(e=!1);var s="image_single"==t.q_disp_type||"image_multiple"==t.q_disp_type||"imagevote_single"==t.q_disp_type||"imagevote_multiple"==t.q_disp_type,c={},d=[];if(s){for(var p=t.table_data,h=1;h<p.length-1;h++)d.push(Object(i.getImgSrcfromSpecial)(p[h][0]));d.forEach((function(t,e){c["Img"+e]={height:14,width:14,backgroundColor:{image:t}}}))}var u=!1;a.forEach((function(t,e){if(-1!=t.toString().indexOf("<img")){u=!0;var a=Object(i.getImgSrcfromSpecial)(t);c["Img"+e]={height:14,width:14,backgroundColor:{image:a}}}}));var _,g;if(o){var f=[];n.map((function(t){f=f.concat(t.data)})),g=Math.max.apply(Math,r(f))}else g=Math.max.apply(Math,r(n[0].data));var m=!1,b=!1;_=Object(i.getMaxYAxis)(g),"K"==Object(i.getMaxYAxisRange)(_)?m=!0:"M"==Object(i.getMaxYAxisRange)(_)&&(b=!0);var v=a.length,y=n.length,x=320,w=26,S=22,A=!1;if(o){var $=Object(i.handleGroupBarWidthAndGap)(v,y);x=$.echartContainerHeight,$.columnGap,S=$.columnWidthGroup,A=$.columnWidthGroupTwe}else{var C=Object(i.handleBarWidthAndBarWidth)(v);x=C.echartContainerHeight,C.columnGap,w=C.columnWidth}var F=document.getElementById("container_".concat(t.question_id));F&&(F.style.height="".concat(x,"px")),n.forEach((function(t){t.type="bar",t.barGap=0,t.barWidth=o?S:w,t.barMinHeight=1,t.label={show:!A,position:"insideLeft",distance:10,color:"#FFFFFF",fontFamily:"PingFangSC-Regular",lineHeight:12,textShadowBlur:1,textShadowColor:"#728CBF",formatter:function(t){return e?"".concat(window.keepTwoDecimal(t.value),"%"):"".concat(t.value.toLocaleString())}}}));var O={grid:{left:s||u?16:0,right:21,top:20,bottom:o?42:20,containLabel:!0},yAxis:{data:a,axisLabel:{formatter:function(t,e){return s?"{Img".concat(e,"|} ").concat(Object(i.splitStringLength)(t)):-1!=t.toString().indexOf("<img")?"{Img".concat(e,"|}"):Object(i.splitStringLength)(t)},rich:c,rotate:Object(i.barYaxisRotate)(a)}},xAxis:{axisLabel:{formatter:function(t){return e?"".concat(t,"%"):m?"".concat(t/1e3,"K"):b?"".concat(t/1e6,"M"):"".concat(t)}},splitLine:{show:A,lineStyle:{color:["#EAEAEA"]}}},series:n,tooltip:{formatter:function(t){var a="";if(s)a='<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src='.concat(d[t[0].dataIndex],">").concat(Object(i.splitStringLength)(t[0].axisValue));else if(-1!=t[0].axisValue.toString().indexOf("<img")){var n=Object(i.getImgSrcfromSpecial)(t[0].axisValue);a='<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src='.concat(n,">")}else a=Object(i.splitStringLength)(t[0].axisValue);if(o){var r=0;t.forEach((function(t){r+=t.value})),a+=e?"</br>合计： ".concat(window.keepTwoDecimal(r),"%"):"</br>合计： ".concat(r)}return t.forEach((function(t){a+=e?o?"</br>".concat(t.marker).concat(Object(i.splitStringLength)(t.seriesName)," : ").concat(window.keepTwoDecimal(t.data),"%"):"</br>".concat(window.keepTwoDecimal(t.data),"%"):o?"</br>".concat(t.marker).concat(Object(i.splitStringLength)(t.seriesName)," : ").concat(t.data):"</br>".concat(t.data)})),a}},legend:{show:o,textStyle:{},formatter:function(t){return Object(i.splitStringLength)(t)}}};return O=l(O,_,o)}function l(t,e,a){return t.animation=!1,t.color=window.reportColors,t.yAxis.inverse=a,t.yAxis.type="category",t.yAxis.axisLabel.interval=0,t.yAxis.axisLabel.color=n.yAxisConfig.color,t.yAxis.axisLabel.fontFamily=n.yAxisConfig.fontFamily,t.yAxis.axisLabel.lineHeight=n.yAxisConfig.lineHeight,t.yAxis.axisLabel.fontSize=n.yAxisConfig.fontSize,t.yAxis.axisLabel.margin=n.yAxisConfig.margin,t.yAxis.axisTick={show:!1},t.yAxis.axisLine={lineStyle:{color:n.yAxisConfig.lineColor}},t.xAxis.type="value",t.xAxis.axisLine={show:!1},t.xAxis.axisTick={show:!1},t.xAxis.axisLabel.color=n.xAxisConfig.color,t.xAxis.axisLabel.fontFamily=n.xAxisConfig.fontFamily,t.xAxis.axisLabel.lineHeight=n.xAxisConfig.lineHeight,t.xAxis.max=e,t.xAxis.splitNumber=n.xAxisConfig.splitNumber,t.xAxis.interval=e/5,t.tooltip.trigger=n.tooltipConfig.trigger,t.tooltip.axisPointer={type:n.tooltipConfig.type,shadowStyle:{color:"rgba(247,248,250,0.3)"}},t.tooltip.transitionDuration=n.tooltipConfig.transitionDuration,t.tooltip.confine=!0,t.tooltip.backgroundColor=n.tooltipConfig.backgroundColor,t.tooltip.textStyle={color:n.tooltipConfig.color,fontFamily:n.tooltipConfig.fontFamily,fontSize:n.tooltipConfig.fontSize,lineHeight:n.tooltipConfig.lineHeight},t.tooltip.extraCssText="box-shadow: 0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05);border-radius: 2px",t.legend.type=n.legendConfig.type,t.legend.left=n.legendConfig.left,t.legend.bottom=n.legendConfig.bottom,t.legend.padding=n.legendConfig.padding,t.legend.icon=n.legendConfig.icon,t.legend.itemGap=n.legendConfig.itemGap,t.legend.itemWidth=n.legendConfig.itemWidth,t.legend.textStyle.color=n.legendConfig.textStyleColor,t.legend.textStyle.fontFamily=n.legendConfig.textStyleFontFamily,t.legend.textStyle.fontSize=n.legendConfig.textStyleFontSize,t.legend.textStyle.lineHeight=n.legendConfig.textStyleLineHeight,t.legend.textStyle.padding=n.legendConfig.textStylePadding,t}a.d(e,"getBarOptions",(function(){return s})),a.d(e,"unifyBarSetting",(function(){return l})),window.get_bar_chart_base_options_value=function(t){return{grid:{borderWidth:0},title:{text:"世界人口总量",x:"left"},tooltip:{formatter:function(t,e,a){return splitToolTipName(t.seriesName)+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1")+"人"}},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"value",boundaryGap:[0,.01],axisLabel:{formatter:"{value}"},show:!0,splitLine:{show:!0,lineStyle:{color:"#dcdcdc",width:1}},axisLine:{lineStyle:{color:"#dcdcdc",width:0}}}],yAxis:[{axisTick:!1,type:"category",data:[],show:!1,splitLine:{show:!1}}],series:[{name:"2011年",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012年",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}]}},window.get_bar_chart_base_options_percent=function(t){return{grid:{borderWidth:0},title:{text:"世界人口总量",x:"left"},tooltip:{trigger:"item",formatter:function(t,e,a){return splitToolTipName(t.seriesName)+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1%")}},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"value",axisLabel:{formatter:"{value}%"},show:!0,splitLine:{show:!0,lineStyle:{color:"#dcdcdc",width:1}},axisLine:{lineStyle:{color:"#dcdcdc",width:0}}}],yAxis:[{axisTick:!1,type:"category",data:[],show:!1,splitLine:{show:!1}}],series:[{name:"2011年",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012年",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}]}},window.echart_precent_img_bar=function(t,e,a,i,n,r,o){e.reverse();var s={left:"0%",right:"0%",bottom:"10%",top:"2%",containLabel:!0};if("singlevote"==r||"multiplevote"==r||r==QUESTION_TYPE_SINGLE||r==QUESTION_TYPE_MULTIPLE||"sex"==r||"dropdown"==r||"proportion"==r){var l=a,c="#AFCBFF",d=["#377CFF","#F5F9FF"];s.left="0","singlevote"!=r&&"multiplevote"!=r||(s.left="0%")}else if("imagevote_single"==r||"image_single"==r||"imagevote_multiple"==r||"image_multiple"==r)l=a,c="#AFCBFF",d=["#377CFF","#F5F9FF"],s={left:"14%",right:"0%",bottom:"10%",top:"2%",containLabel:!0};else c="#AFCBFF",d=["#377CFF","#F5F9FF"],l=a;var p,h,u={title:{text:"",x:"left",textStyle:{fontFamily:"PingFangSC-Regular",fontSize:18,color:"#484848",fontWeight:"normal"}},tooltip:{confine:!0,trigger:"axis",backgroundColor:"#fff",textStyle:{color:"#4D538A",fontSize:14,fontFamily:"PingFangSC-Regular"},axisPointer:{type:"shadow",padding:0,shadowStyle:{shadowOffsetX:0},position:["50%","50%"]},formatter:function(t){return"show_percent"==o?splitToolTipName(t[0].axisValue)+": "+parseFloat(t[0].value).toFixed(2)+"%":"proportion"==r?splitToolTipName(t[0].axisValue)+": "+keepTwoDecimal(t[0].value):splitToolTipName(t[0].axisValue)+": "+t[0].value+"人"}},xAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#fff"}},axisLabel:{show:!1},splitLine:{show:!1}},yAxis:[{type:"category",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{inside:!0,textStyle:{fontSize:14,color:c,fontFamily:"PingFangSC-Regular"},formatter:function(t,e){return t.length>10&&(t=t.substring(0,10)+"..."),t}},z:12,data:t},{type:"category",position:"left",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{fontSize:0},formatter:function(t,e){return"{value"+e+"|}"},rich:(p=e,h={},p.map((function(t,a){h["value"+a]={lineHeight:46,height:46,width:46,backgroundColor:{}},e[a]&&""!=e[a]&&(h["value"+a].backgroundColor.image=e[a])})),h)},z:14,splitArea:{show:!1},splitLine:{show:!1},data:e}],series:[{type:"bar",yAxisIndex:1,itemStyle:{normal:{show:!0,color:d[1],barBorderRadius:5,borderWidth:0,borderColor:"#333"}},barGap:"2%",barCategoryGap:"1%",barWidth:46,data:i},{yAxisIndex:0,type:"bar",itemStyle:{normal:{show:!0,color:d[0],barBorderRadius:5,borderWidth:0,borderColor:"#333"}},barGap:"2%",barCategoryGap:"1.5%",barWidth:46,data:l.datas},{type:"bar",yAxisIndex:1,label:{normal:{show:!0,padding:4,position:"insideRight",color:c,fontSize:14,fontFamily:"PingFangSC-Medium",formatter:function(t,e){var a=l.datas;if("show_percent"==o)return""!=n?parseFloat(a[t.dataIndex]).toFixed(2)+"%":parseFloat(a[t.dataIndex].value).toFixed(2)+"%";if("proportion"==r){var i=null==a[t.dataIndex].value?a[t.dataIndex]:a[t.dataIndex].value;return keepTwoDecimal(i)}return a[t.dataIndex]+"人"}}},itemStyle:{normal:{show:!1,color:"transparent",barBorderRadius:5,borderWidth:0,borderColor:"#333"}},barGap:"-100%",barCategoryGap:"1%",barWidth:46,data:i}]};if(""==n)return u;r==QUESTION_TYPE_SCORE&&(u.yAxis[1].axisLabel.show=!1,u.yAxis[1].axisLabel.formatter={},u.yAxis[1].axisLabel.rich={}),"singlevote"!=r&&"multiplevote"!=r||(u.yAxis[1].axisLabel.show=!1),u.grid=s,i.length>0&&i.length<4?$("#container_"+n).css("height",65*i.length):i.length<7?$("#container_"+n).css("height",70*i.length):$("#container_"+n).css("height",65*i.length),u.title.text="";var _=echarts.init($("#container_"+n).get(0));_.clear(),_.resize(),_.setOption(u),$("#container_"+n).find(".highcharts-button").hide()}},1199:function(t,e,a){"use strict";a.r(e),a.d(e,"getBarChartBaseOptionsValueMatrix",(function(){return n})),a.d(e,"stackcolumn_chart_options_handler",(function(){return r})),a.d(e,"getStackColumnOptions",(function(){return o}));var i=a(140);function n(t){return{grid:{borderWidth:0},title:{text:"世界人口总量",x:"left"},tooltip:{formatter:function(t,e,a){return t.seriesName.replace("分","")+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1")+"人"}},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"value",boundaryGap:[0,.01],axisLabel:{formatter:"{value}"},show:!0,splitLine:{show:!0,lineStyle:{color:"#dcdcdc",width:1}},axisLine:{lineStyle:{color:"#dcdcdc",width:0}}}],plotOptions:{bar:{dataLabels:{formatter:function(t,e,a){return t.seriesName+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1")+"人"}}}},yAxis:[{axisTick:!1,type:"category",data:[],show:!1,splitLine:{show:!1}}],series:[{name:"2011年",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012年",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}]}}function r(t){var e=t.chart_options,a=t.chart_info,i=t.display_type,n=t.q_type_name;t.question_id;a.labels=a.labels.map((function(t){return t.replace(/^(.{3}).+$/,"$1…")})),e.xAxis={show:!0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:a.labels,type:"category"};var r={};return r.formatter="show_value"==i?"{value}":"{value}%",e.yAxis={show:!1,type:"value",axisLabel:r,splitLine:{show:!0,lineStyle:{color:"#dcdcdc",width:1}},axisLine:{lineStyle:{color:"#dcdcdc",width:0}}},e.series=a.datas,e.series=e.series.map((function(t){return t.data.length<4&&(t.barWidth=39),t.type="bar",t.stack="all",t})),e.legend={show:!1,y:"bottom"},e.legend.data=a.datas.map((function(t){return t.name})),"banked_cloze"==n&&(e.tooltip={formatter:function(t,e,a){return"show_value"==i?parseFloat(t.value)+"人":parseFloat(t.value).toFixed(2)+"%"}},e.yAxis.inverse=!0),e}function o(t){var e="show_percent"==t.display_type,a=t.labels,n=t.datas;t.q_disp_type&&60==t.q_disp_type&&(e=!0);var r,o=0;n.forEach((function(t){o+=t.data[0]}));var s=!1,l=!1;r=Object(i.getMaxYAxis)(o),"K"==Object(i.getMaxYAxisRange)(r)?s=!0:"M"==Object(i.getMaxYAxisRange)(r)&&(l=!0);var c,d,p=a.length,h=Object(i.handleChartWidthAndBarWidth)(p);c=h.echartContainerWidth,h.columnGap,d=h.columnWidth;var u=document.getElementById("container_".concat(t.question_id));u&&(u.style.width=339==c?"100%":"".concat(c,"px"));var _=(c-34)/p,g={};a.forEach((function(t,e){if(-1!=t.toString().indexOf("<img")){var a=Object(i.getImgSrcfromSpecial)(t);g["Img"+e]={height:14,width:14,backgroundColor:{image:a}}}}));var f={},m=-1;return n.forEach((function(t,e){if(-1!=t.name.toString().indexOf("<img")){var a=Object(i.getImgSrcfromSpecial)(t.name);f["Img"+e]={height:14,width:14,backgroundColor:{image:a}}}})),n.forEach((function(t){t.type="bar",t.stack="wj",t.barWidth=d,t.label={show:!0,position:"insideBottom",distance:8,color:"#FFFFFF",fontFamily:"PingFangSC-Regular",lineHeight:12,textShadowBlur:1,textShadowColor:"#728CBF",formatter:function(t){return 0==t.data?"":e?"".concat(window.keepTwoDecimal(t.data),"%"):t.data}}})),{grid:{left:0,right:15,top:20,bottom:42,containLabel:!0},title:{text:""},xAxis:{type:"category",data:a,axisLabel:{formatter:function(t,e){return-1!=t.toString().indexOf("<img")?"{Img".concat(e,"|}"):Object(i.splitStringLength)(t)},interval:0,rich:g,fontFamily:"PingFangSC-Regular",fontSize:12,color:"#AAAAAA",lineHeight:12,margin:9,rotate:Object(i.setTitleRotate)(a,_)}},yAxis:{type:"value",axisLabel:{formatter:function(t){return e?"".concat(t,"%"):s?"".concat(t/1e3,"K"):l?"".concat(t/1e6,"M"):"".concat(t)},color:"#AAAAAA",fontFamily:"PingFangSC-Regular",lineHeight:12,margin:4},max:r,splitNumber:5,interval:r/5,splitLine:!1},series:n,tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(247,248,250,0.3)"}},transitionDuration:0,confine:!0,backgroundColor:"#FFFFFF",textStyle:{color:"#484848",fontFamily:"PingFangSC-Regular",fontSize:12,lineHeight:12},extraCssText:"box-shadow: 0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05);border-radius: 2px",formatter:function(t){var a=Object(i.splitStringLength)(t[0].axisValue),n=0;if(-1!=t[0].axisValue.toString().indexOf("<img")){var r=Object(i.getImgSrcfromSpecial)(t[0].axisValue);a='<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src='.concat(r,">")}return t.forEach((function(t){n+=t.value})),a+=e?"</br>合计： ".concat(window.keepTwoDecimal(n),"%"):"</br>合计： ".concat(n),t.forEach((function(t){if(e)if(-1!=t.seriesName.toString().indexOf("<img")){var n=Object(i.getImgSrcfromSpecial)(t.seriesName);a+="</br>".concat(t.marker,'<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src=').concat(n,"> : ").concat(window.keepTwoDecimal(t.data),"%")}else a+="</br>".concat(t.marker).concat(Object(i.splitStringLength)(t.seriesName)," : ").concat(window.keepTwoDecimal(t.data),"%");else if(-1!=t.seriesName.toString().indexOf("<img")){var r=Object(i.getImgSrcfromSpecial)(t.seriesName);a+="</br>".concat(t.marker,'<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src=').concat(r,"> : ").concat(t.data)}else a+="</br>".concat(t.marker).concat(Object(i.splitStringLength)(t.seriesName)," : ").concat(t.data)})),a}},legend:{show:!0,type:"scroll",left:"center",bottom:20,padding:0,icon:"circle",itemGap:18,itemWidth:7,formatter:function(t){return++m>=n.length&&(m=0),-1!=t.toString().indexOf("<img")?"{Img"+m+"|}":Object(i.splitStringLength)(t)},textStyle:{rich:f,color:"#484848",fontFamily:"PingFangSC-Regular",fontSize:12,lineHeight:12,padding:[1,0,0,0]}}}}window.get_stackcolumn_chart_base_options=function(t){return{chart:{type:"column",renderTo:"container_"+t},exporting:{enabled:!1},title:{text:"Stacked bar chart",x:"left",style:{fontFamily:"Microsoft YaHei"}},subtitle:{text:"",style:{fontFamily:"Microsoft YaHei"}},xAxis:{axisTick:!1,categories:["Apples","Oranges","Pears","Grapes","Bananas"],labels:{style:{fontFamily:"Microsoft YaHei"},useHTML:!0,formatter:function(){return-1!=this.value.indexOf("<img")?'<b class="chart_op_icon">'+this.value+"</b>":this.value.length>12?this.value.substr(0,12)+"...":this.value}},show:!0,splitLine:{show:!1}},yAxis:{min:0,axisLabel:{formatter:"{value}%"},type:"value",title:{text:"",style:{fontFamily:"Microsoft YaHei"}},show:!1,splitLine:{show:!1}},legend:{y:"bottom",useHTML:!0,backgroundColor:"#FFFFFF",reversed:!0,labelFormatter:function(){return this.name.length>12?'<b class="chart_op_icon">'+this.name.substr(0,12)+"...</b>":'<b class="chart_op_icon">'+this.name+"</b>"}},tooltip:{style:{color:"#888888",fontFamily:"Microsoft YaHei"},formatter:function(t,e,a){return splitToolTipName(t.seriesName)+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1%")}},series:[{name:"John",data:[5,3,4,7,2]},{name:"Jane",data:[2,2,3,2,1]},{name:"Joe",data:[3,4,4,2,5]}]}}},1255:function(t,e,a){"use strict";a.r(e),a.d(e,"getBarChartBaseOptionsMatrix",(function(){return r})),a.d(e,"getStackBarOptions",(function(){return o}));var i=a(140),n=a(1198);function r(t){return{grid:{borderWidth:0},title:{text:"世界人口总量",x:"left"},tooltip:{formatter:function(t,e,a){return splitToolTipName(t.seriesName)+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1%")}},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"value",boundaryGap:[0,.01],axisLabel:{formatter:"{value}"},show:!0,splitLine:{show:!0,lineStyle:{color:"#dcdcdc",width:1}},axisLine:{lineStyle:{color:"#dcdcdc",width:0}}}],yAxis:[{axisTick:!1,type:"category",data:[],show:!1,splitLine:{show:!1}}],series:[{name:"2011年",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012年",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}]}}function o(t){var e="show_percent"==t.display_type,a=t.labels,r=t.datas;t.q_disp_type&&60==t.q_disp_type&&(e=!0);var o,s=0;r.forEach((function(t){s+=t.data[0]})),s=e?100:s;var l=!1,c=!1;o=Object(i.getMaxYAxis)(s),"K"==Object(i.getMaxYAxisRange)(o)?l=!0:"M"==Object(i.getMaxYAxisRange)(o)&&(c=!0);var d,p,h=a.length,u=Object(i.handleStackBarWidthAndBarWidth)(h);d=u.echartContainerHeight,u.columnGap,p=u.columnWidth;var _=document.getElementById("container_".concat(t.question_id));_&&(_.style.height="".concat(d,"px"));var g={},f=!1;a.forEach((function(t,e){if(-1!=t.toString().indexOf("<img")){f=!0;var a=Object(i.getImgSrcfromSpecial)(t);g["Img"+e]={height:14,width:14,backgroundColor:{image:a}}}}));var m={},b=-1;r.forEach((function(t,e){if(-1!=t.name.toString().indexOf("<img")){var a=Object(i.getImgSrcfromSpecial)(t.name);m["Img"+e]={height:14,width:14,backgroundColor:{image:a}}}})),r.forEach((function(t){t.type="bar",t.stack="wj",t.barWidth=p,t.label={show:!0,position:"insideLeft",distance:10,color:"#FFFFFF",fontFamily:"PingFangSC-Regular",lineHeight:12,textShadowBlur:1,textShadowColor:"#728CBF",formatter:function(t){return 0==t.data?"":e?"".concat(window.keepTwoDecimal(t.value),"%"):t.data.toLocaleString()}}}));var v={grid:{left:f?16:0,right:21,top:20,bottom:42,containLabel:!0},yAxis:{data:a,axisLabel:{formatter:function(t,e){return-1!=t.toString().indexOf("<img")?"{Img".concat(e,"|}"):Object(i.splitStringLength)(t)},rich:g,rotate:Object(i.barYaxisRotate)(a)}},xAxis:{axisLabel:{formatter:function(t){return e?"".concat(t,"%"):l?"".concat(t/1e3,"K"):c?"".concat(t/1e6,"M"):"".concat(t)}},splitLine:{show:!1}},series:r,tooltip:{formatter:function(t){var a=Object(i.splitStringLength)(t[0].axisValue),n=0;if(-1!=t[0].axisValue.toString().indexOf("<img")){var r=Object(i.getImgSrcfromSpecial)(t[0].axisValue);a='<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src='.concat(r,">")}return t.forEach((function(t){n+=t.value})),a+=e?"</br>合计： ".concat(window.keepTwoDecimal(n),"%"):"</br>合计： ".concat(n),t.forEach((function(t){if(e)if(-1!=t.seriesName.toString().indexOf("<img")){var n=Object(i.getImgSrcfromSpecial)(t.seriesName);a+="</br>".concat(t.marker,'<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src=').concat(n,"> : ").concat(window.keepTwoDecimal(t.data),"%")}else a+="</br>".concat(t.marker).concat(Object(i.splitStringLength)(t.seriesName)," : ").concat(window.keepTwoDecimal(t.data),"%");else if(-1!=t.seriesName.toString().indexOf("<img")){var r=Object(i.getImgSrcfromSpecial)(t.seriesName);a+="</br>".concat(t.marker,'<img style="width: 14px;height:14px;margin-right:4px;margin-bottom:-3px" src=').concat(r,"> : ").concat(t.data)}else a+="</br>".concat(t.marker).concat(Object(i.splitStringLength)(t.seriesName)," : ").concat(t.data)})),a}},legend:{show:!0,formatter:function(t){return++b>=r.length&&(b=0),-1!=t.toString().indexOf("<img")?"{Img"+b+"|}":Object(i.splitStringLength)(t)},textStyle:{rich:m}}};return v=Object(n.unifyBarSetting)(v,o,!0)}window.get_stackbar_chart_base_options=function(t){return{grid:{borderWidth:0},chart:{type:"bar",renderTo:"container_"+t},exporting:{enabled:!1},title:{text:"Stacked bar chart",x:"left",style:{fontFamily:"Microsoft YaHei"}},subtitle:{text:"",style:{fontFamily:"Microsoft YaHei"}},xAxis:{show:!1},yAxis:{show:!1},legend:{y:"bottom",useHTML:!0,backgroundColor:"#FFFFFF",reversed:!0,labelFormatter:function(){return this.name.length>12?'<b class="chart_op_icon">'+this.name.substr(0,12)+"...</b>":'<b class="chart_op_icon">'+this.name+"</b>"}},tooltip:{style:{color:"#888888",fontFamily:"Microsoft YaHei"},formatter:function(t,e,a){return"show_value"===display_type?splitToolTipName(t.seriesName)+" : "+t.value.toString():splitToolTipName(t.seriesName)+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1%")}},series:[{name:"John",type:"bar",data:[5,3,4,7,2]},{name:"Jane",type:"bar",data:[2,2,3,2,1]},{name:"Joe",type:"bar",data:[3,4,4,2,5]}]}}},140:function(t,e,a){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){return(parseInt(t/e)+1)*e}function r(t){return t>=0&&t<100?n(t,10):100==t?100:n(t,t>100&&t<=200?50:t>200&&t<=1e3?100:t>1e3&&t<=1e6?1e3:1e6)}function o(t){return t>=1001&&t<1e6?"K":t>=1e6?"M":void 0}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return t&&"string"==typeof t?t.length>e?t.substr(0,e)+"...":t:""}function l(t){var e=339,a=32,i=(e-34)/t-a;return i<=12&&(a=(e-34)/t-(i=12))<=12&&(e=t*((a=12)+i)+34),{echartContainerWidth:e,columnGap:i,columnWidth:a}}function c(t,e){var a,i=20,n=339,r=!1;return(a=(n-34)/t-e*i)<=16&&((i=(n-34-t*(a=16))/(t*e))<12&&(r=!0),i<=8&&(n=(e*(i=8)+a)*t+34)),{echartContainerWidth:n,columnGap:a,columnWidthGroup:i,columnWidthGroupTwe:r}}function d(t){$("body").append($('<span style="display:inline;" id="textWidth"/>')).find("#textWidth").html(t),$("#textWidth").css({"font-size":"12px","font-family":"PingFangSC-Regular","line-height":"12px"});var e=$("#textWidth").width();return $("#textWidth").remove(),e}function p(t,e,a){for(var i=0;i<t.length;i++){var n=0;if(-1!=t[i].toString().indexOf("<img")?("[图片]",n=14):n=d(s(t[i])),a&&(n+=18),n>e)return-45}return 0}function h(t){return t.toString().split('src="')[1].split('"')[0]}function u(t){for(var e=0;e<t.length;e++)if(-1==t[e].toString().indexOf("<img")&&t[e].toString().length>7)return 45;return 0}function _(t){var e=320,a=26,i=(e-60)/t-a;return i<=12&&(a=(e-60)/t-(i=12))<=12&&(e=t*((a=12)+i)+60),{echartContainerHeight:e,columnGap:i,columnWidth:a}}function g(t){var e=320,a=26,i=(e-82)/t-a;return i<=12&&(a=(e-82)/t-(i=12))<=12&&(e=t*((a=12)+i)+82),{echartContainerHeight:e,columnGap:i,columnWidth:a}}function f(t,e){var a=320,i=22,n=!1,r=(a-82)/t-e*i;return r<=16&&((i=(a-82-t*(r=16))/(t*e))<12&&(n=!0),i<=8&&(a=(e*(i=8)+r)*t+82)),{echartContainerHeight:a,columnGap:r,columnWidthGroup:i,columnWidthGroupTwe:n}}a.r(e),a.d(e,"getMaxYAxis",(function(){return r})),a.d(e,"getMaxYAxisRange",(function(){return o})),a.d(e,"splitStringLength",(function(){return s})),a.d(e,"handleChartWidthAndBarWidth",(function(){return l})),a.d(e,"handleGroupColumnWidthAndGap",(function(){return c})),a.d(e,"getWidthByText",(function(){return d})),a.d(e,"setTitleRotate",(function(){return p})),a.d(e,"getImgSrcfromSpecial",(function(){return h})),a.d(e,"barYaxisRotate",(function(){return u})),a.d(e,"handleBarWidthAndBarWidth",(function(){return _})),a.d(e,"handleStackBarWidthAndBarWidth",(function(){return g})),a.d(e,"handleGroupBarWidthAndGap",(function(){return f})),window.maxAxisValue=function(t,e){var a,i=Math.max.apply(null,e);return a=[10,20,30,40,50,60,70,80,90,100].filter((function(t,e){return i<=t})),parseInt(a[0])},window.splitToolTipName=function(t){return t.replace(/[\s\S]/g,"$&").replace(/.{15}?/g,"$&<br>")},window.keepTwoDecimal=function(t){return parseFloat(t).toFixed(2)},window.indexArrOf=function(t,e){for(var a=[],i=0;i<t.length;i++)t[i]==e&&a.push(i);return a},window.deepCopy=function t(e){var a=Array.isArray(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&("object"===i(e[n])?a[n]=t(e[n]):a[n]=e[n]);return a},window.handleNum=function t(e){if("object"===i(e)){for(var a in e)e[a]=t(e[a]);return e}return e},window.calculateWidth=function(t){var e=$("<pre>"+t+"</pre>").css({display:"none","font-size":"12px","font-family":"Microsoft Yahei"});$("body").append(e);var a=e.width();return e.remove(),a},window.set_title=function(t,e,a){t=(t=t.split("<br>")).join("");for(var i=parseInt($(a).width()/e),n=new RegExp("(?=[^\\n]+)(.{"+i+"})(?=.)");;){var r=t.replace(n,"$1\n");if(r===t)break;t=r}return t},window.elememts_deal=function(t,e){"show_table"===e&&(e="show_data"),"hide_chart"==e?$("#container_"+t).hide():"show_chart"==e?$("#container_"+t).show():"show_data"==e?($("#data_container_"+t).show(),$("#data-footer-"+t).show()):"hide_data"==e&&($("#data_container_"+t+":not(.no-setting)").hide(),window.isSharePage||$("#data_container_"+t).hasClass("no-setting")||$("#data-footer-"+t+':not([data-qtype="nps_score"])').hide())}},1774:function(t,e,a){"use strict";a.r(e);var i=a(1071),n=a(1199),r=a(1255),o=a(1198);function s(t,e,a){if("pie"==e){if("show_value"==a)return get_pie_chart_base_options_value(t);if("show_percent"==a)return get_pie_chart_base_options_percent(t)}else if("donut"==e){if("show_value"==a)return get_donut_chart_base_options_value(t);if("show_percent"==a)return get_donut_chart_base_options_percent(t)}else if("line"==e){if("show_value"==a)return get_line_chart_base_options_value(t);if("show_percent"==a)return get_line_chart_base_options_percent(t)}else if("bar"==e){if("show_value"==a)return get_bar_chart_base_options_value(t);if("show_percent"==a)return get_bar_chart_base_options_percent(t)}else if("column"==e){if("show_value"==a)return get_column_chart_base_options_value(t);if("show_percent"==a)return get_column_chart_base_options_percent(t)}else if("radar"==e){if("show_value"==a)return get_radar_chart_base_options_value(t);if("show_percent"==a)return get_radar_chart_base_options_percent(t)}else if("stackcolumn"==e){if("show_percent"==a)return get_column_chart_base_options_percent(t);if("show_value"==a)return get_column_chart_base_options_value(t)}else if("stackbar"==e){if("show_percent"==a)return get_bar_chart_base_options_percent(t);if("show_value"==a)return get_bar_chart_base_options_value(t)}else{if("scatter"!=e)return{chart:{renderTo:"container_"+t,type:"spline"},series:[{}]};if("show_percent"==a)return get_scatter_chart_base_options_percent(t);if("show_value"==a)return get_scatter_chart_base_options_value(t)}}function l(t,e,a,l,d,p,h,u,_,g,f){var m=get_chart_and_table_info(t,e,a,l,d,p,u,_,g,f);if(null!=m){"cloze"==m.q_disp_type&&setClozeChangeCharts(t),window.handleAccuracy({type:1,question_id:t,accuracy:m.accuracy});var b=getQuestionDataByQid(t);if(b)if("0"!=m.rspd_count){if(9==u){$(".classification-icon-left-"+t).hide(),$(".classification-icon-right-"+t).hide(),$("#container_"+t).css({width:"100%",height:"352px"});var v=m.pie_data;m.labels=m.labels.map((function(t){return"string"==typeof t&&t.match(/<(img)[^>]*>/gi)?t.replace(/<(img)[^>]*>/gi,"图片"):t}));var y=m.labels}var x=null,w=b.qtype==QUESTION_TYPE_SCORE&&"matrix_scale"==b.q_disp_type&&"stackcolumn"==e,S=b.qtype==QUESTION_TYPE_SCORE&&"matrix_scale"==b.q_disp_type&&"stackbar"==e,A=b.qtype==QUESTION_TYPE_SCORE&&"matrix_scale"==b.q_disp_type&&"radar"==e,C=b.qtype==QUESTION_TYPE_SCORE&&"matrix_scale"==b.q_disp_type;if(C){var F=[];m.datas.forEach((function(t){F.push(deepCopy(t))})),m.copyDatas=F}x=w?Object(n.getBarChartBaseOptionsValueMatrix)(t):S?Object(r.getBarChartBaseOptionsMatrix)(t):s(t,e,l);var O=$("#chart_div_"+t).width();"hide_chart"==d&&"hide_data"==p&&"cascader"==u?$("#cascader_"+t).hide():$("#cascader_"+t).show();var k=window.reportColors,T=[];if("evaluation"==u&&(showEvaluationChart(t,m.cloud_data),m.cloud_label_list.map((function(t,e){e>0&&T.push(e)})),$("#question_content_"+t).find(".evaluation-details-btn a").attr("href","/report/label_cloud/statistics/?project_id="+project_id+"&question_id="+t+"&fromMiniApp="+fromMiniApp+"&label=0&vcode="+vcode+"&page_version="+page_version+"&client="+client+"&v_type="+v_type+"&filterArr="+JSON.stringify(T))),window.showTableContainer(t,e,u,_,m,C,b,T,p),window.isSharePage||$(".bottom_style").hide(),!(m.question_type==QUESTION_TYPE_BLANK||m.question_type==QUESTION_TYPE_BLANK_DROPDOWN&&"cascader"!=u||m.question_type==QUESTION_TYPE_MULTIPLE_BLANK&&-1==["banked_cloze","cloze"].indexOf(u)||m.question_type==QUESTION_TYPE_MATRIX_BLANK)){if("column"==e)$("#container_"+t).css("height",311),$("#chart_div_"+t+"> .chart_div_wrap").css("max-height",""),null!=(x=Object(i.getColumnOptions)(m))&&(x.color=window.reportColors,x=Object(i.unifySettingMobile)(x));else if("stackcolumn"==e)$("#container_"+t).css("height",311),$("#chart_div_"+t+"> .chart_div_wrap").css("max-height",""),null!=(x=Object(n.getStackColumnOptions)(m))&&(x.color=window.reportColors,x=Object(i.unifySettingMobile)(x));else if("bar"==e)$("#container_"+t).css("width","100%"),$("#chart_div_"+t+"> .chart_div_wrap").css("max-height","424px"),x=Object(o.getBarOptions)(m);else if("stackbar"==e)$("#container_"+t).css("width","100%"),$("#chart_div_"+t+"> .chart_div_wrap").css("max-height","424px"),x=Object(r.getStackBarOptions)(m);else{$("#container_"+t).css("width","100%"),$("#chart_div_"+t+"> .chart_div_wrap").css("max-height",""),x.title||(x.title={}),$("#container_"+t).css("height",.6*O);x.title.text=set_title("",20,"#chart_div_"+t),x.title.textStyle={"font-size":16,fontWeight:"normal"},x.title.subtextStyle={"font-size":12,color:"#697fab",fontWeight:"lighter"};var I=21*x.title.text.split("\n").length+23+parseInt(x.title.subtextStyle["font-size"]);if("pie"==e){var L={};q=m.pie_data.map((function(t,e){return L["b"+e]={fontSize:12,align:"center",padding:4},L["hr"+e]={borderColor:k[e],width:"100%",borderWidth:2,height:0},L["d"+e]={fontSize:12,align:"center",padding:4},L["c"+e]={fontSize:12,align:"center",padding:4},{value:t[1],name:t[0]}})),x.legend={show:!1,data:m.pie_data.map((function(t){return t[0]}))};(.6*parseInt($("#container_"+t).css("width").replace("px",""))/2+I+5+"px").replace(/\.\d+/,"");x.series[0]={data:q,name:"",type:"pie",avoidLabelOverlap:!0,itemStyle:x.series[0].itemStyle,radius:.6*parseInt($("#container_"+t).css("width").replace("px",""))/2+"px",labelLine:{normal:{show:!0,length:10,lineStyle:{width:2}}},label:{normal:{formatter:function(t){return t.name.length>3&&(t.name=t.name.substring(0,3)+"..."),"show_percent"==l?"{c"+t.dataIndex+"|"+t.name+"}\n{hr"+t.dataIndex+"|}\n{d"+t.dataIndex+"|"+parseFloat(t.value).toFixed(2)+"%}":"proportion"!=u?"{c"+t.dataIndex+"|"+t.name+"}\n{hr"+t.dataIndex+"|}\n{d"+t.dataIndex+"|"+t.value+"人}":"{c"+t.dataIndex+"|"+t.name+"}\n{hr"+t.dataIndex+"|}\n{d"+t.dataIndex+"|"+keepTwoDecimal(t.value)+"}"},rich:L}}}}else if("donut"==e){x.legend={show:!1};var j=[];if(9==u){var E=parseInt($(".classification-icon-right-"+t).attr("index"));j=m.pie_data[E]||[]}else j=m.pie_data||[];j&&(x.legend.data=j.map((function(t){return t[0]})));(.6*parseInt($("#container_"+t).css("width").replace("px",""))/2+I+5+"px").replace(/\.\d+/,""),L={};var q=j.map((function(t,e){return L["b"+e]={fontSize:12,align:"center",padding:4},L["hr"+e]={borderColor:k[e],width:"100%",borderWidth:2,height:0},L["d"+e]={fontSize:12,align:"center",padding:4},L["c"+e]={fontSize:12,align:"center",padding:4},{value:t[1],name:t[0]}}));x.series[0]={data:q,name:"",type:"pie",avoidLabelOverlap:!0,radius:["35%",.6*parseInt($("#container_"+t).css("width").replace("px",""))/2+"px"],labelLine:{normal:{show:!0,length:10,lineStyle:{width:2}}},label:{normal:{formatter:function(t){return t.name.length>3&&(t.name=t.name.substring(0,3)+"..."),"show_percent"==l?"{c"+t.dataIndex+"|"+t.name+"}\n{hr"+t.dataIndex+"|}\n{d"+t.dataIndex+"|"+parseFloat(t.value).toFixed(2)+"%}":"proportion"!=u?"{c"+t.dataIndex+"|"+t.name+"}\n{hr"+t.dataIndex+"|}\n{d"+t.dataIndex+"|"+t.value+"人}":"{c"+t.dataIndex+"|"+t.name+"}\n{hr"+t.dataIndex+"|}\n{d"+t.dataIndex+"|"+keepTwoDecimal(t.value)+"}"},rich:L}}}}else if("column"==e)x=Object(i.column_chart_options_handler)({chart_options:x,chart_info:m,display_type:l,q_type_name:u,question_id:t});else if("bar"==e){var N=0;if(x.yAxis[0].data=m.labels,"number"!=typeof m.datas[0]&&isNaN(parseInt(m.datas[0])))x.series=m.datas,x.series.forEach((function(t){t.type="bar"})),x.legend={show:!1,y:"bottom"},x.legend.data=m.datas.map((function(t){return t.name})),3===m.labels.length?$("#container_"+t).css("height",O*(.6-N)):m.labels.length<3?$("#container_"+t).css("height",O*(.5-N)):4===m.labels.length?$("#container_"+t).css("height",O*(.8-N)):5===m.labels.length?$("#container_"+t).css("height",O):m.labels.length>15&&$("#container_"+t).css("height",O+(.02*(m.labels.length-5)-N)*O);else{if("image_single"==u||"imagevote_single"==u||"imagevote_multiple"==u||"image_multiple"==u||u==QUESTION_TYPE_SINGLE||u==QUESTION_TYPE_MULTIPLE||"sex"==u||"dropdown"==u){var M=[],P=[];return m.sum=0,"image_single"!=u&&"imagevote_single"!=u&&"imagevote_multiple"!=u&&"image_multiple"!=u||m.table_data.map((function(t,e){0!=e&&e!=m.table_data.length-1&&M.push($(t[0]).children("img").attr("src"))})),m.datas=m.datas.map((function(t,e){return"show_percent"==l?P.push(100):P.push(Math.max.apply(null,m.datas)),isNaN(t)||(m.sum+=parseFloat(t)),t})),void echart_precent_img_bar(m.labels,M,m,P,t,u,l)}if(u==QUESTION_TYPE_SCORE||"singlevote"==u||"multiplevote"==u||"proportion"==u||"evaluation"==u){M=[],P=[];return m.sum=0,m.datas=m.datas.map((function(t,e){if("show_percent"==l?P.push(100):P.push(Math.max.apply(null,m.datas)),!isNaN(t))return m.sum+=parseInt(t),t})),void echart_precent_img_bar(m.labels,M,m,P,t,u,l)}if(x.yAxis[0].data=[" "],"show_percent"==l){var B=0;m.datas.forEach((function(t,e){t<100?B+=t:B=100})),x.xAxis[0].max=maxAxisValue(B,m.datas)}1!=m.hasReverse?(x.legend={show:!1,y:"bottom",data:m.labels.reverse()},x.series=[],m.datas.reverse(),m.hasReverse=1):(x.legend={show:!1,y:"bottom",data:m.labels},x.series=[]),x.series=m.datas.map((function(t,e){return{name:m.labels[e],type:"bar",data:[t]}})),m.datas.length<4&&x.series.forEach((function(t){t.barWidth=39})),3===m.labels.length?$("#container_"+t).css("height",.6*O-N):m.labels.length<3?$("#container_"+t).css("height",.5*O-N):4===m.labels.length||5===m.labels.length?$("#container_"+t).css("height",.7*O-N):m.labels.length>5&&$("#container_"+t).css("height",O+(.01*(m.labels.length-5)-N)*O)}}else if("line"==e)x.xAxis[0].data=m.labels,"number"!=typeof m.datas[0]?(x.series=m.datas,x.series.forEach((function(t){t.type="line"})),x.legend={show:!1,y:"bottom"},x.legend.data=m.datas.map((function(t){return t.name}))):(x.legend={show:!1,y:"bottom",data:[]},x.series=[],x.series[0]={data:m.datas,type:"line"}),$("#container_"+t).css("height",.6*O);else if("radar"==e){if(m.question_type!=QUESTION_TYPE_SCORE||C)if(A){(x={title:{text:""},tooltip:{},legend:{data:["预算分配（Allocated Budget）","实际开销（Actual Spending）"],show:!1,x:"center"},radar:{indicator:[]},series:[]}).series[0]={data:m.datas.map((function(t){return{value:t.data,name:t.name}})),name:"平均值",type:"radar"}}else x.series[0]={data:m.datas.map((function(t){return{value:t.data,name:t.name}})),name:"平均值",type:"radar"};else{for(var W=[],z=m.table_data_ori[1].length-1,D=1;D<=m.table_data_ori.length-1;D++)W.push(m.table_data_ori[D][z]);m.datas[0].name,m.datas[0].data=W,x.series[0]={data:m.datas.map((function(t){return{value:t.data,name:t.name}})),name:"平均值",type:"radar"}}x.legend={show:!1,data:m.datas.map((function(t){return t.name})),x:"center",y:"bottom"},x.polar=[],x.polar[0]={indicator:m.labels.map((function(t){return t.length>5&&(t=t.substring(0,5)+"..."),{text:t}}))}}else if("stackcolumn"==e)x=Object(n.stackcolumn_chart_options_handler)({chart_options:x,chart_info:m,display_type:l,q_type_name:u,question_id:t});else if("stackbar"==e){N=0;if(m.labels=m.labels.map((function(t){return t.replace(/^(.{3}).+$/,"$1…")})),"stackbar"===e){P=[];m.sum=0;M=[];var G={};G.formatter="show_value"==l?"{value}":"{value}%",x.yAxis={show:!0,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},data:m.labels,type:"category"},x.xAxis={type:"value",show:!1,splitLine:{show:!1,lineStyle:{color:"#dcdcdc",width:1}},axisLabel:G,axisLine:{lineStyle:{color:"#dcdcdc",width:0}}};3===m.labels.length||m.labels.length<3?$("#container_"+t).css("height",O*(.5-N)):4===m.labels.length?$("#container_"+t).css("height",O*(.6-N)):5===m.labels.length?$("#container_"+t).css("height",O*(.7-N)):m.labels.length>5&&$("#container_"+t).css("height",(.7+.01*(m.labels.length-5)-N)*O),x.series=m.datas,1==m.isReverse?x.series=x.series.map((function(t){return t.data.length<4&&(t.barWidth=39),t.type="bar",t.stack="all",t})):(x.series=x.series.map((function(t){return"banked_cloze"!=u&&(t.data=t.data.reverse()),t.data.length<4&&(t.barWidth=39),t.type="bar",t.stack="all",t})),m.isReverse=1)}x.legend={show:!1,y:"bottom"},x.legend.data=m.datas.map((function(t){return t.name})),"banked_cloze"==u&&(x.tooltip={formatter:function(t,e,a){return"show_value"==l?parseFloat(t.value)+"人":parseFloat(t.value).toFixed(2)+"%"}},x.yAxis.inverse=!0)}var R=0;if("line"===e){for(var H in m.labels)m.labels[H].length>5&&(x.xAxis[0].axisLabel={rotate:0},m.labels[H].length>R&&(R=m.labels[H].length));$("#container_"+t).css("height",.5*O)}if("stackcolumn"===e&&"number"!=typeof m.datas[0]){for(var Y in m.labels)m.labels[Y].length>5&&(x.xAxis.axisLabel={rotate:0},m.labels[Y].length>R&&(R=m.labels[Y].length));$("#container_"+t).css("height",.5*O)}if(0!=R){var Q=parseInt(12*R*1.73/2+16+20);R>11?$("#container_"+t).css("height",.7*O):R>5&&$("#container_"+t).css("height",.6*O)}else Q=48;x.legend&&x.legend.data&&x.legend.data.length||(Q-=16);var V=[],U=O-20,J=1,K=O-20;if("donut"!=e&&"pie"!=e&&x.legend&&x.legend.data&&x.legend.data.length&&x.legend.data.forEach((function(t,a){var i=calculateWidth(t),n=i+22+10+4,r=(parseInt(U/(14*1.1)),t);V.push(r),r.match(/…$/)&&("stackcolumn"==e||"stackbar"==e||"column"==e||"bar"==e?x.series[a].name=r:x.series[0].data[a].name=r),U<i+22+4&&(U=K,J++),U-=n})),J>0&&(J*=24),Q+=J,"pie"===e||"donut"===e||"radar"===e){var X=0;if("pie"===e||"donut"===e){var Z;Z=x.series[0].data.filter((function(t,e){return 0==t.value})),x.series[0].data.length>=4&&Z.length>1&&(X=30*Z.length)}$("#container_"+t).css("height",.6*parseInt($("#container_"+t).css("width").replace("px",""))+X)}if("radar"===e&&(x.polar[0].center=["50%",.6*parseInt($("#container_"+t).css("width").replace("px",""))/2+I+10+"px"],x.polar[0].radius=.6*parseInt($("#container_"+t).css("width").replace("px",""))/2-20+"px"),$("#container_"+t).css("height",parseInt($("#container_"+t).css("height"))+I+Q),x.grid&&(x.grid.top=I-40,x.grid.bottom=Q,x.grid.left=50,x.grid.right=40,x.legend.y=$("#container_"+t).height()-Q+35,x.title.x="left"),"bar"==e&&"number"==typeof m.datas[0]&&(x.grid.left=50,x.grid.right=40),x.color=k,"donut"!=e&&"pie"!=e||(x.tooltip={confine:!0,formatter:function(t){return t.name=splitToolTipName(t.name),"proportion"!=u?"show_percent"==l?t.name+"  : "+parseFloat(t.value).toFixed(2)+"%":t.name+"  : "+t.value+"人":t.name+"  : "+keepTwoDecimal(t.value)}}),(S||w)&&x.series.forEach((function(t,e){t.data=m.copyDatas[e].data})),x.color=reportColors,9==u&&("donut"==e&&($(".classification-icon-left-"+t).attr({piedata:JSON.stringify(v),pietitle:JSON.stringify(y),index:0,display_type:l,data_color:JSON.stringify(k)}),$(".classification-icon-right-"+t).attr({piedata:JSON.stringify(v),pietitle:JSON.stringify(y),index:0,display_type:l,data_color:JSON.stringify(k)})),c(x,e,y[0],t,l),classification_table(m,t,e,p)),"cascader"==u&&"rspd_share"!=isShareReport){var tt=window.echarts.init($("#container_"+t).get(0));tt.off("click"),tt.on("click",(function(t){isClickCascaderChart(t)}))}A&&(x.polar=null,m.labels.forEach((function(t){x.radar.indicator.push({name:t,max:10})}))),S&&(x.grid.left=70),"banked_cloze"==u&&(x.legend={x:"center",bottom:"5%",icon:"circle",itemWith:9,itemHeight:9}),x.color=reportColors}$("#container_".concat(t)).css("overflow","hidden");var et=window.echarts.init($("#container_"+t).get(0));et.clear(),et.resize(),et.setOption(x,!0),$("#container_"+t).find(".highcharts-button").hide(),$(".left-arrow, .right-arrow").css("top",$(".chart_div_wrap").height()/2+"px")}}else setNodataContainer(t,u,m)}}function c(t,e,a,i,n){parseFloat($("#chart_div_"+i).width());var r=parseFloat($("#chart_div_"+i).height()),o=$(".classification-icon-left-"+i),s=$(".classification-icon-right-"+i),l=$(".chart-select-filter-"+i).attr("is_filter")||!1;if(t.legend={x:"center",bottom:7,icon:"circle",itemGap:30,borderRadius:100,itemWith:9,itemHeight:9,padding:[3,0,3,0]},$("#chart_div_"+i).css({height:"","overflow-y":""}),!l||"bar"!=e&&"column"!=e||(t.legend={show:!1}),"donut"==e){o.show(),s.show();var c=a;c.length>3&&(c=c.slice(0,3)+"..."),t.title={show:!0,text:c,x:"center",y:"center",textStyle:{color:"#616161",fontSize:18}},t.series[0].radius=["38%","85px"]}else"bar"==e&&(t.series.map((function(t){return t.barWidth=15,t.barCategoryGap=0,t})),t.yAxis[0].data.length>5&&($("#container_"+i).css("height",r+(t.yAxis[0].data.length-3)*(30*t.series.length)+"px"),(r=parseFloat($("#container_"+i).height()))>=300&&$("#chart_div_"+i).css({height:"300px","overflow-y":"auto"})),t.yAxis[0].show=!0,t.yAxis[0].axisLine={lineStyle:{color:"#eee"}},t.yAxis[0].axisLabel={color:"#8C8C8C"},t.xAxis[0].axisLabel={formatter:function(t){return"show_percent"==n?t+"%":t}});t.tooltip={show:!0,confine:!0,backgroundColor:"#fff",borderWidth:"0.5",borderColor:"#DDE5ED",textStyle:{color:"#616161"},formatter:function(t){var a="";a="donut"==e?t.name:t.seriesName;var i="show_percent"==n?"%":"",r="show_percent"==n?parseFloat(t.value).toFixed(2):t.value,o="show_percent"==n?"选中人数占比：":"选中人数：";return o+=r,o+=i,"<div style ='color:#484848;text-align:center'>"+splitToolTipName(a)+"</div>"+o}},o.attr("data-option",JSON.stringify(t)),s.attr("data-option",JSON.stringify(t))}a(1775),a(1786),window.get_chart_base_options=s,window.show_chart_and_table=l,window.classification_chart_options=c,window.chart_info_callback=function(t){var e=t.question_id,a=t.chart_type,i=t.sort_type,n=t.display_type,r=t.question_type,o=$("#params_question_cascader_"+e).val();o=null==o?[]:JSON.parse(o);var s=$("#param_chart_show_or_hide_"+e).val()||"",c=$("#param_table_show_or_hide_"+e).val()||"";if(""==t.q_disp_type&&(t.q_disp_type=r),t.labels&&(t.labels=t.labels.map((function(t){if("string"==typeof t)return t.replace(/(<[^>]+>)+(.+?)(<[^>]+>)+/,"$2")}))),t.pie_data&&9!=r&&t.pie_data.forEach((function(t){t[0]=t[0].replace(/(<[^>]+>)+(.+?)(<[^>]+>)+/,"$2")})),"bar"===a&&"number"==typeof t.datas[0]&&(t.labels=t.labels.reverse(),t.datas=t.datas.reverse()),"stackcolumn"!==a&&"stackbar"!==a||r==QUESTION_TYPE_ORDER&&(n="show_percent"),t.q_disp_type==DISP_TYPE_GEOGRAPHICAL)$(".geog_count").text(t.rspd_count),chart_info_dict[[e,a,i,n]]=t;else if(chart_info_dict[[e,a,i,n]]=handleNum(t),"cascader"==t.q_disp_type)cascader_chart_info_dict[[e,a,i,n,JSON.stringify(o)]]=t;else if(9==t.q_disp_type){var d=$("#classification-tag-select-wrap-"+e).attr("class_filter");class_chart_info_dict[[e,a,i,n,d]]=t}else chart_info_dict[[e,a,i,n]]=t;if(t)if("nps_score"==t.q_disp_type)show_chart_and_table_money_q(e,a,i,n,s,c,t.q_disp_type);else if(t.q_disp_type==DISP_TYPE_GEOGRAPHICAL)$("#question_content_"+e).find(".opcontain").remove(),show_chart_geographical(e,a,i,n,s,c,t.q_disp_type);else{d=$("#classification-tag-select-wrap-"+e).attr("class_filter");l(e,a,i,n,s,c,0,t.q_disp_type,o,"",d)}}},1775:function(t,e,a){a(1832),a(140),a(1776),a(1198),a(1071),a(1777),a(1778),a(1779),a(1780),a(1781),a(1255),a(1199),a(1782),a(1783),a(1784),a(1785)},1776:function(t,e){function a(t){this.Tinfo={obj:t.obj,rspd_url:t.rspd_url,url:t.url},this.data=t.data,this.ajax=function(t,e,a,i,n){var r=this;$.ajax({url:t,type:"POST",dataType:"json",data:"page="+e+"&question_id="+a+"&_xsrf="+getCookie("_xsrf")+"&project_id="+i+"&version="+n,error:function(){alert("加载错误")},success:function(t){r.data=t,r.CreateHtml()}})},this.CreateHtml=function(){if(95==this.data.question_type&&""==this.data.q_disp_type){for(var t="",e=0;e<this.data.option_num;e++)t+='<div class="Gbot multiple_fill"><span class="G_blanks multiple" mul-index='+e+'></span><div class="G_paging" name="'+this.Tinfo.url+'">'+this.CreatePaging()+"</div><span>"+this.data.table_data.columns[e].label+'<i class="samll_font">共'+parseInt(this.data.table_data.rspd_count)+"人回答</i></span></div>";this.Con=$('<div qid="'+this.data.question_id+'" class="GapFilling"><div class="Gcon" style="width:auto;overflow-x: auto;">'+this.CreateList()+"</div>"+t+"</div>")}else this.Con=$('<div qid="'+this.data.question_id+'" class="GapFilling"><div class="Gcon" style="width:auto;overflow-x: auto;">'+this.CreateList()+'</div><div class="Gbot"><span class="report-icon report-info-position report-info-right"></span><div class="G_paging" name="'+this.Tinfo.url+'">'+this.CreatePaging()+'</div><span class="span_vertain">共'+parseInt(this.data.table_data.rspd_count)+"人回答</span></div></div>");this.Tinfo.obj.html("").append(this.Con);var a=this;function i(t){var e=t.parents(".GapFilling").attr("qid"),i=t.parent().find(".get_page").val();""!=i&&a.ajax(a.Tinfo.url,i,e,a.data.project_id,a.data.version)}""!==this.prevpage&&(this.Tinfo.obj.find(".G_paging").append(this.prevpage),this.prevpage.bind("click",(function(){var t=$(this).parents(".GapFilling").attr("qid"),e=$(this).attr("page");a.ajax(a.Tinfo.url,e,t,a.data.project_id,a.data.version)}))),""!==this.nextpage&&(this.Tinfo.obj.find(".G_paging").append(this.nextpage),this.nextpage.bind("click",(function(){var t=$(this).parents(".GapFilling").attr("qid"),e=$(this).attr("page");a.ajax(a.Tinfo.url,e,t,a.data.project_id,a.data.version)}))),this.Tinfo.obj.find(".G_paging").append(this.getpage),this.Tinfo.obj.find(".G_paging .get_a").bind("click",(function(){i($(this))})),this.Tinfo.obj.find(".G_paging .get_page").bind("focus",(function(){$(this).keyup((function(t){13===t.keyCode&&i($(this))}))})).blur((function(){$(this).unbind("keyup")})),this.Tinfo.obj.find(".get_page").keyup((function(){$(this).val($(this).val().replace(/\D/g,""))})),$("#data_container_"+this.data.question_id).find(".Gcon").get(0).children[0]&&new IScroll($("#data_container_"+this.data.question_id).find(".Gcon").get(0),{scrollX:!0,scrollY:!1,mouseWheel:!0,hScrollbar:!0,eventPassthrough:!0}),$("#data_container_"+this.data.question_id).find(".Gcon").css("overflow-x","hidden"),$("#data_container_"+this.data.question_id).find(".Gcon").children().width()<$("#data_container_"+this.data.question_id).width()&&$("#data_container_"+this.data.question_id).find(".Gcon").children().css("width","100%")},this.CreateList=function(){var t=this.data.table_data.columns;if(t){var e=t[0].value.length,a=this.data.table_data.matrixrow;if(void 0!==a)var i="mat";else i="";for(var n="",r=0;r<e;r++){for(var o="",s="",l=0;l<t.length;l++)void 0!==a&&0==l&&(s+='<td><div class="td_max_width">&nbsp;</div></td>',o+='<td class="matTd"><div class="td_max_width">'+a[l]+"</div></td>"),s+='<td><div class="td_max_width">'+t[l].label+"</div></td>",o+='<td><div class="td_max_width">'+$("<textarea/>").text(t[l].value[r].text).html()+"</div></td>",l==t.length-1&&(void 0!==a?(s+='<td class="lbn"><div class="td_max_width">&nbsp;</div></td>',o+=0==r?'<td class="lbn"><div class="td_max_width"></div></td>':'<td class="lbn"><div class="td_max_width">&nbsp;</div></td>'):(s+='<td class="lbn"><div class="td_max_width">&nbsp;</div></td>',o+='<td class="lbn"><div class="td_max_width"></div></td>'));n+="<tr>"+o+"</tr>"}return this.table='<table class="Gl" cellpadding="0" cellspacing="0" style="width:auto;"><thead><tr class="Gl_title">'+s+'</tr></thead><tbody class="Gl_list '+i+'">'+n+"</tbody></table>",this.table}},this.CreatePaging=function(){return this.cur_page=this.data.table_data.cur_page,this.total_page=this.data.table_data.total_page,this.prevpage=$('<a class="prevpage" page="'+(1*this.cur_page-1)+'" href="javascript:;">上一页</a>'),this.nextpage=$('<a class="nextpage" page="'+(1*this.cur_page+1)+'" href="javascript:;">下一页</a>'),this.getpage=$('<input class="get_page" type="text" /><a class="get_a" href="javascript:;">跳转</a>'),1==this.cur_page&&(this.prevpage=""),this.cur_page==this.total_page&&(this.nextpage=""),this.cur_page+" / "+this.total_page},this.Width_mate=function(t){var e=$("table tr:eq(0) td",t),a=80/(e.length-1);e.each((function(t,e){0==t?$(this).attr("width","20%"):$(this).attr("width",a+"%")}))},this.output=function(){this.CreateHtml()},this.output()}window.getQuestionDataByQid=function(t){for(var e=0;e<question_list.length;e++)if(question_list[e].qid==t)return question_list[e];return null},window.createTableByData=function(t){if(t&&Array.isArray(t)){var e="";return t.forEach((function(t){var a="";t.forEach((function(t){a=a+"<td>"+t+"</td>"})),""!=a&&(e=e+"<tr>"+a+"</tr>")})),'<table class="layui-table"><tbody>'+e+"</tbody></table>"}},window.handleBaseDataToTable=function(t,e,a){if(t&&Array.isArray(t)){var i=[],n={};return t.forEach((function(t,i){t.forEach((function(r,o){0==i&&(r=1==o?"选项":2==o?'<span class="table_color color_'+o+'"></span>'+r+"（"+e+"）":o==t.length-2?'<span class="table_color color_'+o+'"></span>'+r+"（"+a+"）":'<span class="table_color color_'+o+'"></span>'+r),n[o]=n[o]?n[o]+","+r:r}))})),Object.keys(n).forEach((function(t,e){e&&e!=Object.keys(n).length-1&&i.push(n[t].split(","))})),i}},window.createTableString=function(t,e){if(t&&Array.isArray(t)){var a="";return t.forEach((function(t,i){var n='<tr class="cloze-tr" data-qid="'+i+'">';(clozeSelectObj[e]||1)==i&&(n='<tr class="cloze-tr tr-active" data-qid="'+i+'">');var r="";t.forEach((function(t){r=r+"<td>"+t+"</td>"})),""!=r&&(a=a+n+r+"</tr>")})),'<table class="layui-table cloze-table"><tbody>'+a+"</tbody></table>"}},window.GapFilling=a,window.gen_nps_data_table=function(t,e){if(t.datas.length&&null!=t.datas[0].data)if(6!=t.question_type&&8!=t.question_type&&95!=t.question_type&&100!=t.question_type){var i="",n=t.datas[0].data,r=t.total_datas,o="<table class='Gls' style='width:auto;' ><tbody class='Gls_list'>";o+="<tr>",o+="<td>批评型</td><td>被动型</td><td>推荐型</td><td>净推荐分数Net Promoter® Score</td>",o+="</tr>",o+="<tr>";var s=n[2]-n[0];s=parseFloat(s.toFixed(2)),o+="<td>"+n[0]+"%<br/>人数："+r[0]+"</td>",o+="<td>"+n[1]+"%<br/>人数："+r[1]+"</td>",o+="<td>"+n[2]+"%<br/>人数："+r[2]+"</td><td>"+s+"</td>",o+="</tr>";var l=t.rspd_count;null!=l&&(i+='<div class="count_style"><span>共</span><span>'+parseInt(l)+"人回答</span></div>",o+="<tr style='display: none;'>",o+="<td></td>",o+="<td colspan='4' class='reply_number'></td>",o+="</tr>"),o+="</tbody></table>",$("#data_container_"+e).html(o),$("#data-footer-"+e).append('   <div class="bottom_style"><span class="bottom_border_style"></span>\n    <span class="bottom_context bottom_click" onclick="show_hide_button(this)"><div style="display: inline-block">隐藏具体数据</div><span\n         class="assess_arrow_top"></span></span> <span class="bottom_border_style"></span>\n   </div>').append(i)}else 0==t.rspd_count?$("#data_container_"+e).html("该题无答题数据"):new a({obj:$("#data_container_"+e),url:"/report/ajax/chart_info/?pid="+project_id,rspd_url:"/report/rspd_detail/"+project_id+"/",data:t})},window.classification_table=function(t,e,a,i){var n=$(".chart-select-filter-"+e).attr("name")||"",r={is_show:i,rspd_count:t.rspd_count},o=[];t.table_data.map((function(t,e){var a=[];t.map((function(t,e){a.push(t)})),o.push(a)}));var s={is_filter:$(".chart-select-filter-"+e).attr("is_filter")||"",filter_data:n,table_data:o,chart_type:a},l=juicer($("#classification-table-wrap").html(),{data:s}),c=juicer($("#show_hide_btn").html(),{data:r});$("#data_container_"+e).html(l),$("#data-footer-"+e).html(c)}},1777:function(t,e){window.get_donut_chart_base_options_value=function(t){return{tooltip:{trigger:"item",formatter:"{a} {b} : {c} ({d}%)"},legend:{y:"bottom",data:[]},grid:{},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"center",max:1548}}},restore:{show:!0},saveAsImage:{show:!0}}},title:{x:"left"},series:[{name:"访问来源",type:"pie",radius:["50%","70%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}]}]}},window.get_donut_chart_base_options_percent=function(t){return{tooltip:{trigger:"item",formatter:"{a} {b} : {c} ({d}%)"},legend:{y:"bottom",data:[]},grid:{},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"center",max:1548}}},restore:{show:!0},saveAsImage:{show:!0}}},title:{x:"left"},series:[{name:"访问来源",type:"pie",radius:["50%","70%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}]}]}},window.renderDonut=function(t,e,a,i,n){var r={},o=a[i].map((function(t,a){return r["b"+a]={fontSize:12,align:"center",padding:4},r["hr"+a]={borderColor:e[a],width:"100%",borderWidth:2,height:0},r["d"+a]={fontSize:12,align:"center",padding:4},r["c"+a]={fontSize:12,align:"center",padding:4},{value:t[1],name:t[0]}}));t.series[0]={data:o,name:"",type:"pie",avoidLabelOverlap:!0,labelLine:{normal:{show:!0,length:10,lineStyle:{width:2}}},label:{normal:{formatter:function(t){return t.name.length>3&&(t.name=t.name.substring(0,3)+"..."),"show_percent"==n?"{c"+t.dataIndex+"|"+t.name+"}\n{hr"+t.dataIndex+"|}\n{d"+t.dataIndex+"|"+parseFloat(t.value).toFixed(2)+"%}":"{c"+t.dataIndex+"|"+t.name+"}\n{hr"+t.dataIndex+"|}\n{d"+t.dataIndex+"|"+t.value+"人}"},rich:r}}}}},1778:function(t,e){window.get_line_chart_base_options_value=function(t){return{grid:{borderWidth:0},title:{text:"未来一周气温变化",x:"left"},tooltip:{trigger:"item",formatter:function(t,e,a){return(t.name||t.seriesName)+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1")}},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"],show:!1,splitLine:{show:!1}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"},show:!1,splitLine:{show:!1}}],series:[{name:"最高气温",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"最低气温",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"}]}}]}},window.get_line_chart_base_options_percent=function(t){return{grid:{borderWidth:0},title:{text:"未来一周气温变化",x:"left"},tooltip:{trigger:"item",formatter:function(t,e,a){return(t.name||t.seriesName)+" : "+t.value.toString().replace(/(\d+\.?\d{0,2})\d*/,"$1%")}},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"],show:!1,splitLine:{show:!1}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}%"},show:!1,splitLine:{show:!1}}],series:[{name:"最高气温",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"最低气温",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"}]}}]}}},1779:function(t,e){window.get_pie_chart_base_options_percent=function(t){return{title:{text:"某站点用户访问来源",x:"left"},tooltip:{trigger:"item",formatter:"{a} {b} : {c} ({d}%)"},grid:{},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left",max:1548}}},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}]}]}},window.get_pie_chart_base_options_value=function(t){return{title:{text:"某站点用户访问来源",x:"left"},grid:{},tooltip:{trigger:"item",formatter:"{a} {b} : {c} ({d}%)"},legend:{y:"bottom",data:[]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left",max:1548}}},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}]}]}}},1780:function(t,e){window.get_radar_chart_base_options_value=function(t){return{title:{text:"预算 vs 开销（Budget vs spending）",x:"left"},grid:{},tooltip:{},legend:{x:"center",y:"bottom",data:[]},polar:[{indicator:[{text:"销售（sales）",max:6e3},{text:"管理（Administration）",max:16e3},{text:"信息技术（Information Techology）",max:3e4},{text:"客服（Customer Support）",max:38e3},{text:"研发（Development）",max:52e3},{text:"市场（Marketing）",max:25e3}]}],series:[{name:"预算 vs 开销（Budget vs spending）",type:"radar",data:[{value:[4300,1e4,28e3,35e3,5e4,19e3],name:"预算分配（Allocated Budget）"},{value:[5e3,14e3,28e3,31e3,42e3,21e3],name:"实际开销（Actual Spending）"}]}]}},window.get_radar_chart_base_options_percent=function(t){return{title:{text:"预算 vs 开销（Budget vs spending）",x:"left"},tooltip:{},grid:{},legend:{x:"center",y:"bottom",data:[]},polar:[{indicator:[{text:"销售（sales）",max:6e3},{text:"管理（Administration）",max:16e3},{text:"信息技术（Information Techology）",max:3e4},{text:"客服（Customer Support）",max:38e3},{text:"研发（Development）",max:52e3},{text:"市场（Marketing）",max:25e3}]}],series:[{name:"预算 vs 开销（Budget vs spending）",type:"radar",data:[{value:[4300,1e4,28e3,35e3,5e4,19e3],name:"预算分配（Allocated Budget）"},{value:[5e3,14e3,28e3,31e3,42e3,21e3],name:"实际开销（Actual Spending）"}]}]}}},1781:function(t,e){window.get_scatter_chart_base_options_value=function(t){return{xAxis:{},yAxis:{},series:[{symbolSize:20,data:[[10,8.04],[8,6.95],[13,7.58],[9,8.81],[11,8.33],[14,9.96],[6,7.24],[4,4.26],[12,10.84],[7,4.82],[5,5.68]],type:"scatter"}]}},window.get_scatter_chart_base_options_percent=function(t){return{xAxis:{},yAxis:{},series:[{symbolSize:20,data:[[10,8.04],[8,6.95],[13,7.58],[9,8.81],[11,8.33],[14,9.96],[6,7.24],[4,4.26],[12,10.84],[7,4.82],[5,5.68]],type:"scatter"}]}}},1782:function(t,e){window.showEvaluationChart=function(t,e){var a=$("#evaluation-chart-"+t);if(0==a.attr("data-count")&&0==e.length)return a.hide(),void a.parent().find(".evaluation-details-btn").hide();if(1!=a.attr("data-count")){var i={title:{text:"标签云图",x:"left",y:"top",backgroundColor:"#DDE5ED",padding:[5,6],textStyle:{fontSize:12,color:"#778694",fontWeight:"normal"}},grid:{show:!0,borderWidth:1,borderColor:"#DDE5ED",left:0,right:0,top:0,bottom:0},backgroundColor:"rgba(221,229,237,0.10)",tooltip:{show:!0,confine:!0,formatter:function(t){return splitToolTipName(t.data.nameCopy)+" : "+t.value}},series:[{name:"",type:"wordCloud",sizeRange:[15,50],rotationRange:[0,0],textStyle:{normal:{color:function(t){var e=t.data.min,a=t.data.max,i="";return i=t.value==a?"#2472ff":e==t.value?"#D0E0FF":a-t.value>t.value-e?"#ABC7FF":a-t.value<t.value-e?"#81ABFF":"#568FFF",i}},emphasis:{shadowBlur:10}},textPadding:0,autoSize:{enable:!0,minSize:6},data:[]}]};e.sort((function(t,e){return t[1]-e[1]}));var n,r=e[e.length-1][1],o=e[0][1];n=e.map((function(t,e){var a={nameCopy:t[0],name:t[0],max:r,min:o,value:t[1]};return t[0].length>5&&(a.name=t[0].slice(0,5)+"..."),a})),i.series[0].data=n,a.attr("data-count",1);var s=echarts.init($("#evaluation-chart-"+t).get(0));s.clear(),s.resize(),s.setOption(i,!0)}}},1783:function(t,e){function a(t,e,a,i,n,r,o){var s=get_chart_and_table_info(t,e,a,i,n,r);if(null!=s)if(0!=s.rspd_count&&"0"!=s.rspd_count){if("nps_score"==o){s.datas[0].data;!function(t,e){var a=echarts.init(document.getElementById("container1_"+e)),i=0;t.datas&&null!=t.datas[0].data&&(i=t.datas[0].data[2]-t.datas[0].data[0],i=parseFloat(i.toFixed(2)));var n={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"个性化仪表盘",type:"gauge",center:["50%","50%"],radius:"90%",startAngle:220,endAngle:-40,min:-100,max:100,precision:0,splitNumber:4,tooltip:{show:!1},axisLine:{show:!0,lineStyle:{color:[[0,"#377CFF"],[1,"#377CFF"]],width:30}},axisTick:{show:!0,splitNumber:1,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"#333",fontSize:15}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},pointer:{length:"80%",width:8,color:"#506078"},title:{show:!0,offsetCenter:["0%",130],textStyle:{color:"#616161",fontSize:20}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",offsetCenter:["0%",90],formatter:function(t){return parseFloat(t).toFixed(0)},textStyle:{color:"#484848",fontSize:50,fontWeight:"bold"}},data:[{value:i,name:"NPS"}]}]};a.clear(),a.resize(),a.setOption(n),echart_obj[e]=a}(s,t),gen_nps_data_table(s,t),gen_nps_data_chart(s,t)}}else if("nps_score"==o){$("#table_"+t).empty();$("#table_"+t).html('<td colspan="2" style="text-align: center; height: 18px;">该题无答题数据</td>')}else $("#container_"+t).html("该题无答题数据"),$("#container_"+t).css("height","18px")}window.display_type_change_nps=function(t){var e=t.id.replace("display_type_",""),i=$(t).attr("dispname"),n=$(t).attr("qdisptype");i||(i="show_value"),"show_value"!=i&&"show_percent"!=i||$("#param_show_type_"+e).val(i);var r=$("#param_chart_type_"+e).val(),o=$("#param_sort_type_"+e).val();"show_chart"!=i&&"show_data"!=i&&"hide_chart"!=i&&"hide_data"!=i||("show_chart"==i||"hide_chart"==i?$("#param_chart_show_or_hide_"+e).val(i):"show_data"!=i&&"hide_data"!=i||$("#param_table_show_or_hide_"+e).val(i));var s=$("#param_chart_show_or_hide_"+e).val(),l=$("#param_table_show_or_hide_"+e).val(),c=$("#param_show_type_"+e).val();elememts_deal(e,i,t),"nps_score"==n?($("#container2_"+e).find(".highcharts-container").css("width","400"),a(e,"bar","Keep","show_percent",s,l,n)):show_chart_and_table(e,r,o,c,s,l)},window.show_chart_and_table_money_q=a},1784:function(t,e){function a(t,e,a,i){AMap.event.addListener(e,"click",(function(a){!function(t,e,a,i,n){var r='<i class="mark_ico"></i><div class="text_address">'+t[1]+'</div><div class="text_coord">经度：'+t[2]+"，纬度："+t[3]+"</div>";i.html("").append(r).show(),BDMap.selectedMarker&&BDMap.selectedMarker.setIcon(BDMap.defaultIcon);e.setIcon(BDMap.selectedIcon),BDMap.selectedMarker=n.currentTarget?n.currentTarget:n}(t,e,0,i,e)}))}window.show_chart_geographical=function(t,e,i,n,r,o,s){var l=get_chart_and_table_info(t,e,i,n,r,o);if(null!=l){var c=$("#container_"+t).parent();if(0==l.rspd_count||"0"==l.rspd_count)return c.html("该题无答题数据").css({height:"18px","text-align":"center",padding:"60px 0"}),void $("#chart_div_"+t).find(".geo_answer_num").hide();var d=c.find(".filter_result");window.BDMap={},BDMap.defaultIcon=new AMap.Icon({image:"".concat("//s1.wenjuan.com","/static/images/map_marker_default.png"),size:new AMap.Size(26,26)}),BDMap.selectedIcon=new AMap.Icon({image:"".concat("//s1.wenjuan.com","/static/images/map_marker_selected.png"),size:new AMap.Size(26,26)});for(var p,h=l.map_datas.reverse(),u=[],_=new AMap.Map("container_"+t,{resizeEnable:!0}),g=0;g<h.length;g+=1){var f=new AMap.Marker({position:[h[g][2],h[g][3]],offset:new AMap.Pixel(-15,-15),icon:BDMap.defaultIcon});u.push(f),a(h[g],f,t,d)}u.length;!function(t){p&&p.setMap(null);var e=[{url:"".concat("//s1.wenjuan.com","/static/images/map_overlay.png"),size:new AMap.Size(56,56),offset:new AMap.Pixel(-18,-18),textColor:"#fff",textSize:14}];AMap.plugin(["AMap.MarkerClusterer"],(function(){p=new AMap.MarkerClusterer(_,u,{styles:e,gridSize:80,minClusterSize:1,maxZoom:16})}))}(),_.plugin(["AMap.ToolBar"],(function(){var t=new AMap.ToolBar;_.addControl(t)}));var m=_.getZoom();m>16&&(m=16),_.setZoom(m),$("#table_"+t+" tr").eq(0).find("p").eq(2).html("答题人数："+l.rspd_count),0==$("#report_share").length&&$("#table_"+t+" tr").eq(0).find("p").eq(1).html(l.desc)}}},1785:function(t,e){function a(t,e,a){!function(t,e,a){var i=chart_info_dict[["score_info",t,e,a]];null==i&&($("#get_score_info_form input[name='chart_type']").val(t),$("#get_score_info_form input[name='chart_status']").val(e),$("#get_score_info_form input[name='table_status']").val(a),ajaxSubmit($("#get_score_info_form")))}(t,e,a)}window.show_score_info=a,window.get_score_info_form_callback=function(t){t&&(chart_info_dict[["score_info",t.chart_type,t.chart_status,t.table_status]]=t,a(t.chart_type,t.chart_status,t.table_status),window.showAccuracy={show_accuracy:t.show_accuracy})}},1786:function(t,e,a){},1832:function(t,e,a){"use strict";function i(t){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.app_reportInteract.postMessage(t)}function n(t){var e=t.funcName,a=t.params;window.android&&window.android[e](a||{})}a.r(e);var r=["#377CFF","#00BF6F","#FFCD24","#FF6D56","#7C6DFB","#5CD1FF","#5CABFF","#51E2AF","#28A5A4","#FFB860","#FD8C59","#FCB7C7","#A297FF","#717ACD","#73A3FF","#4DD29A","#FFDC66","#FF9989","#A399FC","#8DDEFF","#8DC4FF","#85EAC7","#68C0BF","#FFCD90","#FDAE8B","#FCCCD7","#BEB6FF","#9BA2DC"];function o(t,e,a){a||(a=$(t.target).closest(".chart_table")[0].id.replace("data_container_",""));var i=null;i=$(t.target).attr("data-qid");$(t.target);if(e){var n=clozeSelectObj[a]||1,r=$(t.target).attr("data-id"),o=$("#data_container_"+r).find(".cloze-tr").length-2,s=n;if("plus"==e){if(n>=o)return;s=parseInt(n)+1,$("#form_chart_info").find('input[name="cloze_filter"]').val(parseInt(n)+1)}else{if(n<=1)return;s=parseInt(n)-1,$("#form_chart_info").find('input[name="cloze_filter"]').val(parseInt(n)-1)}}else{if(i||(i=$(t.target).closest("tr").attr("data-qid"),$(t.target).closest("tr")),"0"==i)return;if($("#form_chart_info").find('input[name="cloze_filter"]').val(i),s=i,i>=$("#data_container_"+a).find(".cloze-tr").length-1)return}var l=window.lastQueryParamsMap[a],c=l.chart_type,d=l.sort_type,p=l.display_type,h=l.chart_status,u=l.table_status;clozeSelectObj[a]=s||1,show_chart_and_table(a,c,d,p,h,u,"",null,[],!0,[])}function s(t){var e=t.question_id,a=t.type,i=t.accuracy;if(void 0!==i)if(1!==a){var n='<div class="accuracy-wrap second" style="margin-top:-20px;">正确率 '.concat(l(i),"</div>");$("#question_content_".concat(e," .accuracy-wrap")).hide();var r=$("#data_container_".concat(e," .accuracy-wrap.second"));r&&r.remove(),$("#data_container_".concat(e)).before(n)}else $("#question_content_".concat(e," .accuracy-wrap.first")).html("正确率 ".concat(l(i))).show()}function l(t){return-1===t?"/":"".concat(t,"%")}$(document).on("change",".chart-select-filter",(function(){var t=""==$(this).val()?"":1;$(this).attr("name",$(this).find("option:selected").text()),$(this).attr("is_filter",t),$(this).closest(".chart-select-filter-wrap").attr("class_filter",$(this).val());var e=$(this).closest(".chart-select-filter-wrap").attr("qid"),a=$("#param_chart_type_"+e).val(),i=$("#param_sort_type_"+e).val(),n=$("#param_show_type_"+e).val(),r=$("#param_chart_show_or_hide_"+e).val(),o=$("#param_table_show_or_hide_"+e).val(),s=$(this).closest(".chart-select-filter-wrap").attr("qtype");show_chart_and_table(e,a,i,n,r,o,view_version,s,[],"",$(this).val())})),$(document).on("click",".classification-dount-left,.classification-dount-right",(function(){var t=JSON.parse($(this).attr("data-option")),e=$(this).attr("qid"),a=JSON.parse($(this).attr("piedata")),i=JSON.parse($(this).attr("pietitle")),n=$(".classification-icon-left-"+e),r=$(".classification-icon-right-"+e),o=parseInt($(this).attr("index")),s=$(this).attr("type"),l=$("#data_container_"+e).find("table"),c=n.attr("display_type"),d=JSON.parse($(this).attr("data_color"));if("left"==s){if(o<=0)return void Toast({message:"已经是第一个",time:1500,mask:!0});o-=1,n.attr("index",o),r.attr("index",o)}else{if(o>=a.length-1)return void Toast({message:"已经是最后一个",time:1500,mask:!0});o+=1,n.attr("index",o),r.attr("index",o)}l.find("tr").removeClass("tr-back"),l.find("tr:eq("+(o+1)+")").addClass("tr-back"),renderDonut(t,d,a,o,c);var p=echarts.init($("#container_"+e).get(0));p.clear(),p.resize(),classification_chart_options(t,"donut",i[o],e,c),p.setOption(t,!0),$("#container_"+e).find(".highcharts-button").hide()})),$(document).on("click","table .see-img-btn",(function(){var t=$($(this).attr("data-img")).attr("src"),e=juicer($("#see-img-wrap").html(),{data:{url:t}});$("body").append(e)})),$(document).on("click",".close-see-icon",(function(){$(this).closest(".see-img-wrap").remove()})),$(document).on("click","table .tr-click",(function(){if(!$(this).hasClass("tr-back")){$(this).parent().find("tr").removeClass("tr-back"),$(this).addClass("tr-back");var t=$(this),e=t.parent().find("tr").index(t)-1,a=$(this).closest(".chartdiv").find(".classification-dount-left"),i=$(this).closest(".chartdiv").find(".classification-dount-right"),n=JSON.parse(a.attr("piedata")),r=JSON.parse(a.attr("pietitle")),o=JSON.parse(a.attr("data-option")),s=a.attr("qid"),l=a.attr("display_type"),c=JSON.parse(a.attr("data_color"));o.pie_data=n[e],a.attr("index",e),i.attr("index",e),renderDonut(o,c,n,e,l);var d=echarts.init($("#container_"+s).get(0));d.clear(),d.resize(),classification_chart_options(o,"donut",r[e],s,l),d.setOption(o,!0),$("#container_"+s).find(".highcharts-button").hide()}}));function c(){setTimeout("timedCount()",$(".td_max_width").find("br").remove(),1e3)}c(),$(document).on("click",".hide-filter-item",(function(t){"img"!==t.target.tagName.toLowerCase()?$(this).hasClass("filter-active")||$(this).addClass("filter-active"):$(this).hasClass("filter-active")&&$(this).removeClass("filter-active")})),window.reportColors=r,window.echart_obj={},window.showTableContainer=function(t,e,a,i,n,l,c,d,p){var h=[],u="cloze"==n.q_disp_type,_='<div class="bottom_style"><span class="bottom_border_style"></span>\n    <span class="bottom_context bottom_click" onclick="show_hide_button(this)"><div style="display: inline-block">显示具体数据</div><span\n         class="assess_arrow_bottom"></span></span> <span class="bottom_border_style"></span>\n   </div>',g='<div class="bottom_style"><span class="bottom_border_style"></span>\n    <span class="bottom_context bottom_click" onclick="show_hide_button(this)"><div style="display: inline-block">隐藏具体数据</div><span\n         class="assess_arrow_top"></span></span> <span class="bottom_border_style"></span>\n   </div>';if(u){var f=createTableString(n.table_data_ori,t);A="hide_data"==p?_:g;var m='<div class="count_style"><span>共</span><span>'+n.rspd_count+"人回答</span></div>";$("#data_container_"+t).html(f),$("#data-footer-"+t).html(A+m),$(".cloze-tr").unbind(),$(".cloze-tr").on("click",(function(t){o(t)}))}if(l){var b=handleBaseDataToTable(n.base_data,JSON.parse(c.desc_left),JSON.parse(c.desc_right)),v=createTableByData(b);A="hide_data"==p?_:g;m='<div class="count_style"><span>共</span><span>'+n.rspd_count+"人回答</span></div>";$("#data_container_"+t).html(v),$("#data-footer-"+t).html(A+m)}if(null!=n.table_data&&!l&&!u){if(a==QUESTION_TYPE_SCORE||"evaluation"==a){var y="";if("evaluation"!=a)if(n.table_data_ori.length>3){var x=[];y+='<div class="average_multip_title_name_style">各选项平均分:</div>';for(var w=0;w<n.table_data_ori.length;w++)0!=w&&w!=n.table_data_ori.length-1&&x.push(n.table_data_ori[w]);x.sort((function(t,e){return e[e.length-1]-t[t.length-1]})),x.map((function(t,e){y+='<div class="assess_border"> <div class="average_multip_title_style">'+t[0]+'</div><div class="average_multip_content_style">'+t[t.length-1]+"分</div> </div>"}))}else n.table_data_ori.map((function(t,e){0!=e&&e!=n.table_data_ori.length-1&&(y+='<div class="average_title_style">平均分:</div> <div class="average_content_style">'+t[t.length-1]+"分</div>")}));else y+='<div class="average_title_style">平均分:</div> <div class="average_content_style">'+n.table_data_ori[n.table_data_ori.length-1][3]+"分</div>";$("#assess_average_"+t).html(y)}if(a==QUESTION_TYPE_ORDER){y='<div class="average_multip_title_name_style">各选项排位：</div>';n.datas.map((function(t,e){var a=t.data.slice(),i=n.labels.slice();a.sort((function(t,e){return e-t}));for(var r=0;r<t.data.length;r++){var o=indexArrOf(a,t.data[r]);1==o.length&&(i[o[0]]=n.labels[r],i[r]=n.labels[o[0]])}y+='<div class="assess_border"> <div class="average_multip_title_style">'+t.name+"</div>",y+='<div class="average_multip_content_style">'+i[0]+"</div>",y+=" </div>"})),$("#assess_average_"+t).html(y)}if("imagevote_single"!=a&&"image_single"!=a&&"imagevote_multiple"!=a&&"image_multiple"!=a)for(var S=0;S<n.table_data.length-1;S++)0!=S&&n.table_data[S][0].length>10&&-1===n.table_data[S][0].indexOf("span")&&(n.table_data[S][0]=n.table_data[S][0].substring(0,10)+"...");var A="";A="hide_data"==p?'<div class="bottom_style"><span class="bottom_border_style"></span>\n    <span class="bottom_context bottom_click" onclick="show_hide_button(this)"><div style="display: inline-block">显示具体数据</div><span\n         class="assess_arrow_bottom"></span></span> <span class="bottom_border_style"></span>\n   </div>':'<div class="bottom_style"><span class="bottom_border_style"></span>\n    <span class="bottom_context bottom_click" onclick="show_hide_button(this)"><div style="display: inline-block">隐藏具体数据</div><span\n         class="assess_arrow_top"></span></span> <span class="bottom_border_style"></span>\n   </div>';var C=[];if(n.question_type==QUESTION_TYPE_SCORE&&"proportion"==a&&"bar"==e)C=["#377CFF"];else if("column"==e&&9!=n.q_disp_type)for(var F=0;F<n.labels.length;F++)C.push("#377CFF");else if("bar"==e&&9!=n.q_disp_type)for(var O=0;O<n.labels.length;O++)C.push("#377CFF");else C=r;if(n.question_type!=QUESTION_TYPE_BLANK&&(n.question_type!=QUESTION_TYPE_MULTIPLE_BLANK||n.question_type==QUESTION_TYPE_MULTIPLE_BLANK&&"banked_cloze"==a)&&n.question_type!=QUESTION_TYPE_MATRIX_BLANK&&n.question_type!=QUESTION_TYPE_BLANK_DROPDOWN){if(n.table_data.length-2>C.length){for(var k=Math.ceil((n.table_data.length-2)/C.length);k>0;)h=h.concat(C),k--}m="";var T=n.table_data[0].length;T>7?110*T:650;var I,L="<table class='Gls' style='width:auto;' ><tbody class='Gls_list'>";if(n.table_data&&[2,3].indexOf(n.question_type)>-1&&n.table_data.forEach((function(t,e){e>0&&e<n.table_data.length-1&&function(t){for(var e=t.title,a=t.option_list,i=0;i<(a&&a.length);i++)if(a[i].title===e&&"1"===a[i].custom_attr.is_correct)return!0;return!1}({title:t[0],option_list:n.option_list})&&(t[0]='<span class="td-sub-span">'.concat(t[0],'</span><span class="td-sub-span-correct">（正确答案）</span>'))})),n.table_data instanceof Array&&2!=n.question_type&&3!=n.question_type&&n.question_type!=QUESTION_TYPE_SCORE&&"banked_cloze"!=a){var j=[],E=n.table_data.length-2;for(S=0;S<=n.table_data[0].length-1;S++){var q=[];for(w=0;w<=E;w++)q.push(n.table_data[w][S]);j.push(q)}j.push(n.table_data[n.table_data.length-1]),n.table_data_reverse=j,n.cell_info=null;for(var N=0;N<n.table_data_reverse.length;N++){0!=N&&N!=n.table_data_reverse.length-1?L+="<tr><td><span class='circle_dot' style='background:"+C[N-1]+"'>":L+="<tr><td><span class='circle_dot'>";var M=n.table_data_reverse[N];if(N==n.table_data_reverse.length-1){n.table_data_reverse[N-1].length;m+='<div class="count_style"><span>共</span><span>'+parseInt(M[1])+"人回答</span></div>"}else for(var P=0;P<M.length;P++)1==M.length?I=M[P]:(M.length,L+="<td><div class='td_max_width'>"+M[P]+"</div></td>",null!=n.cell_info&&1==n.cell_info[N][P][0]?null!=n.cell_info[N][P][2]?L+="<td class='lbn'><a target='_blank' href='/report/openop/"+n.project_id+"/"+n.question_id+"/?v="+n.version+"&op="+n.cell_info[N][P][1]+"&r="+n.cell_info[N][P][2]+"&pid="+n.project_id+"' ><div class='j' title='查看详情'></div></a></td>":L+="<td class='lbn'><a target='_blank' href='/report/openop/"+n.project_id+"/"+n.question_id+"/?v="+n.version+"&op="+n.cell_info[N][P][1]+"&pid="+n.project_id+"' ><div class='j' title='查看详情'></div></a></td>":L+="<td class='lbn'>&nbsp;</td>");L+="</span></td></tr>"}}else if("evaluation"!=a)for(N=0;N<n.table_data.length;N++){0!=N&&N!=n.table_data.length-1?n.question_type!=QUESTION_TYPE_SCORE||n.question_type==QUESTION_TYPE_SCORE&&"proportion"==a||n.question_type==QUESTION_TYPE_SCORE&&"scale"==a?L+="<tr><td><span class='circle_dot' style='background:"+C[N-1]+"'>":L+="<tr><td><span>":L+="<tr><td><span class='circle_dot'>";M=n.table_data[N];if(N==n.table_data.length-1)m+='<div class="count_style"><span>共</span><span>'+parseInt(M[1])+"人回答</span></div>";else for(P=0;P<M.length;P++)if(1==M.length)I=M[P];else{if(P==M.length-1){var B="";if("result_share"!=isShareReport){var W=M[0],z="disabled",D="",G="javascript:void(0)";"proportion"==a&&0!=M[P]&&(z="blue",D="[详细分布]",G="/report/proportion/get_detail_data/?project_id="+project_id+"&question_id="+t+"&option_index="+N+"&fromMiniApp="+fromMiniApp+"&project_type="+project_type+"&vcode="+vcode+"&v_type="+v_type+"&optionTitle="+escape(W)+"&view_version="+view_version),"proportion"==a&&0!=N&&(M[P]=keepTwoDecimal(M[P]),B="<span class='detailed-distribution' dataStatus="+z+"><a href="+G+">"+D+"</a></span>")}L+="<td><div class='td_max_width'>"+M[P]+B+"</div></td>"}else L+="<td><div class='td_max_width'>"+M[P]+"</div></td>";null!=n.cell_info&&1==n.cell_info[N][P][0]?null!=n.cell_info[N][P][2]?L+="<td class='lbn'><a target='_blank' href='/report/openop/"+n.project_id+"/"+n.question_id+"/?v="+n.version+"&op="+n.cell_info[N][P][1]+"&r="+n.cell_info[N][P][2]+"&pid="+n.project_id+"' ><div class='j' title='查看详情'></div></a></td>":L+="<td class='lbn'><a target='_blank' href='/report/openop/"+n.project_id+"/"+n.question_id+"/?v="+n.version+"&op="+n.cell_info[N][P][1]+"&pid="+n.project_id+"' ><div class='report-icon report-info-position' title='查看详情'></div></a></td>":L+="<td class='lbn'>&nbsp;</td>"}L+="</span></td></tr>"}else{if("bar"==e&&(C="#BDD4FF"),null!=n.table_data){L='<table class="Gls" style="width:auto" ><tbody class="Gls_list">';for(var R=0;R<n.table_data.length;R++){if(0==R)L+='<tr><td><span class="circle_dot"></span></td>';else{var H="";H="string"==typeof C?C:C[R-1],L+='<tr><td><span class="circle_dot" style="background:'+H+'"></span></td>'}if(R<n.table_data.length-1)for(var Y=0;Y<n.table_data[R].length;Y++)if(0==R&&(L+="<td>"+n.table_data[R][Y]+"</td>"),0!=R&&Y<n.table_data[R].length-1)L+="<td>"+n.table_data[R][Y]+"</td>";else if(0!=R&&Y==n.table_data[R].length-1)if(0==R)L+="<td></td>";else{B="";B=n.table_data[R][2]<=0?"":"[具体详情]",L+='<td><a class="evaluation-special-details-btn" href="/report/evaluation/detail/?project_id='+project_id+"&question_id="+t+"&fromMiniApp="+fromMiniApp+"&label="+n.table_data[R][0].replace("分","")+"&vcode="+vcode+"&page_version="+page_version+"&client="+client+"&v_type="+v_type+"&filterArr="+JSON.stringify(d)+'">'+B+"</a></td>"}L+="</tr>"}}m+='<div class="count_style"><span>共</span><span>'+parseInt(n.rspd_count)+"人回答</span></div>"}if(L+="</tbody></table>",null!=I&&(L+="<br/><div>"+I+"</div>"),$("#data_container_"+t).html(L),A+=m,$("#data-footer-"+t).html(A),$("#data_container_"+t).width()<$("#data_container_"+t).children().width())new IScroll("#data_container_"+t,{scrollX:!0,scrollY:!1,mouseWheel:!0,hScrollbar:!0,eventPassthrough:!0});$("#data_container_"+t).width()>$("#data_container_"+t).children().width()&&$("#data_container_"+t).children().css("width","100%")}else if("cascader"==a){if(n.table_data.columns.length>C.length){for(k=Math.ceil(n.table_data.columns.length/C.length);k>0;)h=h.concat(C),k--;h}L="";if(n.table_data.rspd_count>0){if($("#cascader-last-"+t).length>0)var Q=3==i.length?$("#cascader-last-"+t).attr("title"):$("[data-cascader-index="+i.length+"]").find("option[value=0]").text().replace("全部","");else Q="";var V="共$人回答";if(i.length>0){B=[];i.map((function(t){B.push(t[0])})),Q+="("+(B=B.join("-"))+")",V="共$人选择"}b=n.table_data.columns,L="<table class='Gls' style='width:auto' ><tbody class='Gls_list'><tr><td><span class='circle_dot'></span></td><td><div class='cascader_td_max_width' id=cascader-title-"+t+">"+Q+"</div></td><td><div class='td_max_width'>回复情况</div></td></tr>";b.map((function(t,e){L+='<tr><td><span class="circle_dot" style="background:'+C[e]+'"></span></td><td>'+t.label+"</td><td>"+t.value+"</td></tr>"})),L+='<tr><td><span class="circle_dot"></span></td></tr></tbody></table>'}else L="该题无答题数据";var U='<div class="count_style"><span>'+V.replace("$",n.table_data.rspd_count)+"</span></div>";$("#data_container_"+t).html(L),"hide_data"!=p&&n.table_data.columns.length>10&&(A='<div class="bottom_style"><span class="bottom_border_style"></span>\n    <span class="bottom_context bottom_click" onclick="show_hide_button(this)"><div style="display: inline-block">显示具体数据</div><span\n         class="assess_arrow_bottom"></span></span> <span class="bottom_border_style"></span>\n   </div>',$("#data_container_"+t).hide()),A+=U,$("#data-footer-"+t).html(A)}else if(0==n.table_data.rspd_count)$("#question_content_"+t).empty(),$("#question_content_"+t).append($("<div>").append(n.cid+". "+n.raw_title).addClass("nullt")).append($("<div>").append("该题无答题数据").addClass("nullc"));else{var J=$("#data_container_"+t),K=J.closest(".chartdiv").attr("chart_id"),X=new GapFilling({obj:J,url:"/report/ajax/chart_info/?pid="+project_id,rspd_url:"/report/rspd_detail/"+project_id+"/?pid="+project_id,data:n}),Z=$('<div class="tktitle" style="font-size: 18px; font-family: Arial, Verdana, sans-serif">'+K+" . "+X.data.title+"</div>");J.prev().hasClass("tktitle")&&J.prev().remove(),J.before(Z),s({question_id:t,type:2,accuracy:n.accuracy})}}},window.changeQuestionChart=o,window.timedCount=c,window.setNodataContainer=function(t,e,a){"cascader"!=e?($("#question_content_"+t).find(".ansimg").empty(),$("#question_content_"+t+" .ansimg").append($("<div>").append(a.cid+". "+a.raw_title).addClass("nullt")).append($("<div>").append("该题无答题数据").addClass("nullc"))):($("#data_container_"+t).html(""),$("#data-footer-"+t).html(""),echarts.init($("#container_"+t).get(0)).dispose(),$("#cascader_back_"+t).attr("data-filter")?$("#container_"+t).html('<div class="nullc">该选项无答题数据</div>'):$("#container_"+t).html('<div class="nullc">该题无答题数据</div>'))},window.Pop_up=function(t){var e=$("body").height(),a=$(window).height(),i="";i=e>a?e:a;var n=document.documentElement.clientWidth||document.body.clientWidth,r=(document.documentElement.clientHeight||document.body.clientHeight,$('<div id="lightBox" class="popupComponent maptss_lightBox" style="display: block; height:'+i+'+px;"><div class="popupCover"></div></div><div class="jsbox" style="display: block;"><div style="width:400px;" class="jsboxContent">'+t+"</div></div>"));$("body").append(r);var o=a/2-$(".jsbox").height()/2-50,s=n/2-200;return $(".jsbox").css({top:o+"px",left:s+"px"}),r},window.isClickCascaderChart=function(t){var e=$(t.event.event.path[2]),a=e.attr("id").replace("container_",""),i=e.closest("#chart_div_"+a),n=parseInt(i.find("#cascader_back_"+a).attr("data-current-level"));n="noChart"==i.find("#cascader_back_"+a).attr("data-click")?n+1:n;var r=parseInt(i.find("#cascader_back_"+a).attr("data-level")),o=t.seriesName||t.name;if(!(n>=r)){var s={qid:a,name:o,index:"",isFirstSelect:!1,isClick:!0,plantform:""},l=i.find("[data-cascader-index="+n+"]");s.plantform=l.attr("data-plantform"),l.length>0&&(l.find("option").each((function(t,e){$(this).text()!==o||(s.index=t)})),l.find("option[value="+s.index+"]").attr("selected",!0),selectChangeEvent(l,s))}},window.setClozeChangeCharts=function(t){var e=$("#data_container_"+t).find(".cloze-tr").length,a=clozeSelectObj[t]||1;parseInt(e)-2<=a?$("#question_content_"+t).find(".right-arrow").removeClass("arrow-active"):$("#question_content_"+t).find(".right-arrow").addClass("arrow-active"),1==a?$("#question_content_"+t).find(".left-arrow").removeClass("arrow-active"):$("#question_content_"+t).find(".left-arrow").addClass("arrow-active")},window.get_chart_and_table_info=function(t,e,a,i,n,r,o,s,l,c){var d=null;return null==(d="cascader"==o?cascader_chart_info_dict[[t,e,a,i,JSON.stringify(s)]]:9==o?class_chart_info_dict[[t,e,a,i,c]]:chart_info_dict[[t,e,a,i]])||l?($("#form_chart_info").find('input[name="question_id"]').val(t),$("#form_chart_info").find('input[name="chart_type"]').val(e),$("#form_chart_info").find('input[name="sort_type"]').val(a),$("#form_chart_info").find('input[name="display_type"]').val(i),$("#form_chart_info").find('input[name="chart_status"]').val(n),$("#form_chart_info").find('input[name="table_status"]').val(r),$("#form_chart_info").find('input[name="version"]').val(view_version),$("#form_chart_info").find('input[name="cascade_filter"]').val(JSON.stringify(s)),$("#form_chart_info").find('input[name="class_filter"]').val(c),ajaxSubmit($("#form_chart_info")),window.lastQueryParamsMap=window.lastQueryParamsMap||{},window.lastQueryParamsMap[t]=window.lastQueryParamsMap[t]||{},window.lastQueryParamsMap[t]={question_id:t,chart_type:e,sort_type:a,display_type:i,chart_status:n,table_status:r,view_version:view_version,cascade_filter:JSON.stringify(s),class_filter:c},null):d},window.chart_con_mouse_over=function(t){$(t).find(".highcharts-button").show()},window.chart_con_mouse_out=function(t){$(t).find(".highcharts-button").hide()},window.handleAccuracy=s,window.handleNativeEntry=function(){var t=function(t){var e,a,i,n=t.client,r=navigator.userAgent;return"android"===n?-1!==r.indexOf("android_app/")&&(e=r.substr(r.indexOf("android_app/")+12,5)):"ios"===n&&-1!==r.indexOf("wenjuan/")&&(a=r.substr(r.indexOf("wenjuan/")+8,5),i=r.substr(r.indexOf("Build ")+6,3)),{appAndroidVersion:e,appIosVersion:a,build:i}}({client:window.newClient});("ios"===window.newClient&&t.build>310||"android"===window.newClient&&t>="2.4.4")&&($(".native-entry-list").show(),$(".native-entry-item.rank").click((function(){"ios"===window.newClient?i({type:"assess_rank",data:{}}):n({funcName:"testRankClick",params:{}})})),$(".native-entry-item.accuracy").click((function(){window.showAccuracy?window.showAccuracy.show_accuracy?"ios"===window.newClient?i({type:"assess_accuracy",data:{}}):n({funcName:"correctRateClick",params:{}}):Toast({message:"「该项目没有题目正确率」",time:1500,mask:!0,maxWidth:215}):Toast({message:"暂无数据",time:1500,mask:!0,maxWidth:215})})))}}});